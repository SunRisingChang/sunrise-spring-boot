(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["manifest"],{"0aac":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{attrs:{wrap:"nowrap",justifyContent:"space-between"}},[r("flex-item",{attrs:{grow:1,width:"100%"}},[r("el-card",[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[r("i",{staticClass:"icon-fa fa-shield margin-right-6 font-size-16"}),e._v("权限管理 ")]),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-plus",title:"添加"},on:{click:e.handleAddPerm}}),r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-search",title:"查询"},on:{click:e.handleQueryPerm}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-refresh-left",title:"重置"},on:{click:function(t){return e.$refs["permForm"].resetFields()}}})],1)],1),r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",{staticClass:"margin-bottom-10"},[r("el-form",{ref:"permForm",staticClass:"form-style-line",attrs:{model:e.permForm,"label-position":"right","label-width":"90px"}},[r("el-row",[r("col-pr",[r("el-form-item",{attrs:{label:"资源类型 :",prop:"permType"}},[r("dict-select",{attrs:{"dict-key":"PermType",placeholder:"请选择",clearable:""},model:{value:e.permForm.permType,callback:function(t){e.$set(e.permForm,"permType",t)},expression:"permForm.permType"}})],1)],1),r("col-pr",[r("el-form-item",{attrs:{label:"隶属表 :",prop:"permTable"}},[r("el-input",{attrs:{maxlength:"50","show-word-limit":""},model:{value:e.permForm.permTable,callback:function(t){e.$set(e.permForm,"permTable",t)},expression:"permForm.permTable"}})],1)],1),r("col-pr",[r("el-form-item",{attrs:{label:"权限状态 :",prop:"permStat"}},[r("dict-select",{attrs:{"dict-key":"PermStat",placeholder:"请选择",clearable:""},model:{value:e.permForm.permStat,callback:function(t){e.$set(e.permForm,"permStat",t)},expression:"permForm.permStat"}})],1)],1)],1)],1)],1),r("flex-item",[r("data-table",{ref:"permTable",attrs:{border:"",index:"","auto-load":"","highlight-current-row":"","auto-update":"","column-button":"","csv-button":"",title:"Data Table","load-data-func":e.loadPerm,pageOptions:e.pageOptions}},[r("data-table-column",{attrs:{prop:"permType",label:"资源类型","show-overflow-tooltip":"",formatter:function(t){return e.$utils.tableColDictFormt("PermType",t.permType)}}}),r("data-table-column",{attrs:{prop:"permTable",label:"隶属表","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"permStat",label:"状态","show-overflow-tooltip":"",formatter:function(t){return e.$utils.tableColDictFormt("PermStat",t.permStat)}}}),r("data-table-column",{attrs:{prop:"permDesc",label:"描述","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"op",label:"操作",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit",title:"编辑"},on:{click:function(r){return e.handleEditPerm(t.row)}}}),r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete",title:"删除"},on:{click:function(r){return e.handleDelPerm(t.row)}}})]}}])})],1)],1)],1)],1)],1),r("dialog-drag",{attrs:{title:"权限编辑",visible:e.showPermDia},on:{"update:visible":function(t){e.showPermDia=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-edit margin-right-4"}),e._v("权限编辑 ")]),r("perm-mgr-edit",{attrs:{initData:e.editPerm},on:{updataData:e.doUpdataPerm,close:function(t){e.showPermDia=!1}}})],1)],1)},n=[],i=(r("96cf"),r("1da1")),o=r("bc30"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",[r("el-form",{ref:"editForm",staticClass:"form-style-line",attrs:{model:e.formData,rules:e.formRules,"label-position":"right","label-width":"90px"}},[r("el-row",[r("el-col",[r("el-form-item",{attrs:{label:"资源隶属 :",prop:"permTable"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.formData.permTable,callback:function(t){e.$set(e.formData,"permTable",t)},expression:"formData.permTable"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"资源类型 :",prop:"permType"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.formData.permType,callback:function(t){e.$set(e.formData,"permType",t)},expression:"formData.permType"}},[r("el-option",{attrs:{label:"菜单",value:"1"}})],1)],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"权限状态 :",prop:"permStat"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.formData.permStat,callback:function(t){e.$set(e.formData,"permStat",t)},expression:"formData.permStat"}},[r("el-option",{attrs:{label:"正常",value:"1"}}),r("el-option",{attrs:{label:"禁用",value:"2"}})],1)],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"权限描述 :",prop:"permDesc"}},[r("el-input",{attrs:{type:"textarea",maxlength:"512","show-word-limit":""},model:{value:e.formData.permDesc,callback:function(t){e.$set(e.formData,"permDesc",t)},expression:"formData.permDesc"}})],1)],1),e.formData.createdUser?[r("el-col",[r("el-form-item",{attrs:{label:"创建用户 :",prop:"createdUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.createdUser,callback:function(t){e.$set(e.formData,"createdUser",t)},expression:"formData.createdUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"创建时间 :",prop:"createdTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.createdTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新用户 :",prop:"updatedUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.updatedUser,callback:function(t){e.$set(e.formData,"updatedUser",t)},expression:"formData.updatedUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新时间 :",prop:"updatedTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.updatedTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1)]:e._e()],2)],1),r("flex-container",{staticClass:"footer",attrs:{justifyContent:"flex-end"}},[r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateData}},[e._v("确 定")])],1)],1)},s=[],c={props:{initData:{type:Object}},data:function(){return{formData:Object.assign({},this.initData),formRules:{permType:[{required:!0,message:"请选择资源类型 !",trigger:"change"}],permTable:[{required:!0,message:"请输入隶属表 !",trigger:"change"}],permStat:[{required:!0,message:"请选择权限状态 !",trigger:"change"}]}}},methods:{handleUpdateData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$refs["editForm"].validate();case 3:this.$emit("updataData",this.formData),this.$emit("close"),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}},u=c,m=r("2877"),d=Object(m["a"])(u,l,s,!1,null,null,null),p=d.exports,f={uuid:null,permType:"",permTable:"",permStat:"",permDesc:"",createdUser:"",createdTime:"",updatedUser:"",updatedTime:""},h={components:{PermMgrEdit:p},data:function(){return{showPermDia:!1,permForm:{permType:"",permTable:"",permStat:""},pageOptions:{pagerCount:5},editPerm:{}}},methods:{loadPerm:function(e){return o["a"].querySysPerm(e)},handleQueryPerm:function(){this.$refs["permTable"].loadData(this.permForm,!0)},handleEditPerm:function(e){this.editPerm=Object.assign({},e),this.showPermDia=!0},handleAddPerm:function(){this.editPerm=Object.assign({},f),this.showPermDia=!0},handleDelPerm:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].delSysPerm([t.uuid]);case 3:return e.prev=3,this.handleQueryPerm(),e.finish(3);case 6:case"end":return e.stop()}}),e,this,[[0,,3,6]])})));function t(t){return e.apply(this,arguments)}return t}(),doUpdataPerm:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].saveSysPerm(t);case 3:return e.prev=3,this.handleQueryPerm(),e.finish(3);case 6:case"end":return e.stop()}}),e,this,[[0,,3,6]])})));function t(t){return e.apply(this,arguments)}return t}()}},g=h,b=Object(m["a"])(g,a,n,!1,null,null,null);t["default"]=b.exports},"0d59":function(e,t){e.exports='# <center> AutocompleteInput 组件说明 </center>\r\n\r\n> 主要功能是记忆输入的内容且缓存到前端数据库中，在下次输入时给出提示。该组件是基于 Element UI 开发的，所以 el-select 的属性及方法、事件对该组件同样适用。下面列举的是扩展部分。\r\n\r\n#### Use\r\n\r\n```html\r\n<autocomplete-input v-bind="Attributes" v-on="Events" ...></autocomplete-input>\r\n```\r\n\r\n#### DataTable.Attributes\r\n\r\n| 参数         | 说明                                                     | 类型     | 可选值                   | 默认值                 |\r\n| :----------- | :------------------------------------------------------- | :------- | :----------------------- | :--------------------- |\r\n| codeKey  | 缓存key                                                | String   | —— | \'\' |\r\n| maxCacheNumber   | 最多缓存数                                                 | Number   | ——                       | 50 |\r\n'},1236:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-404"},[e._m(0),r("div",{staticClass:"page-404-info"},[r("div",{staticClass:"bullshit"},[r("div",{staticClass:"bullshit__oops"},[e._v("OOPS!")]),r("div",{staticClass:"bullshit__headline"},[e._v("网管说这个页面你不能进......")]),r("div",{staticClass:"bullshit__info"},[e._v("请检查您是否有权限进行此操作或请求的目标确实存在，请点击以下按钮返回主页!")]),r("router-link",{staticClass:"bullshit__return-home",attrs:{to:"/"}},[e._v("返回主页")])],1)])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-404-img"},[a("div",{staticClass:"pic-404"},[a("img",{staticClass:"pic-404__parent",attrs:{src:r("553e"),alt:"404"}}),a("img",{staticClass:"pic-404__child left",attrs:{src:r("652b"),alt:"404"}}),a("img",{staticClass:"pic-404__child mid",attrs:{src:r("652b"),alt:"404"}}),a("img",{staticClass:"pic-404__child right",attrs:{src:r("652b"),alt:"404"}})])])}],i={name:"Page404"},o=i,l=(r("7306"),r("2877")),s=Object(l["a"])(o,a,n,!1,null,"1b2881cc",null);t["default"]=s.exports},"12f0":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-500"},[a("div",{staticClass:"page-500-img"},[a("img",{attrs:{src:r("d692")}})]),a("div",{staticClass:"page-500-info"},[a("p",[e._v("500")]),a("p",[e._v("服务器累了，小憩一会.......")]),a("p",[e._v("服务器受未知原因无法返回可识别信息，服务器目前可能已经死机，请联系管理员或等待服务器修复!")])])])}],i={name:"Page500"},o=i,l=(r("e78a"),r("2877")),s=Object(l["a"])(o,a,n,!1,null,null,null);t["default"]=s.exports},"1a91":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-view")},n=[],i=r("2877"),o={},l=Object(i["a"])(o,a,n,!1,null,null,null);t["default"]=l.exports},2096:function(e,t){e.exports='# <center> MarkdownEditor 组件说明 </center>\r\n\r\n#### Use\r\n\r\n```html\r\n<markdown-editor\r\n  v-model="xxx"\r\n  v-bind="Attributes"\r\n  v-on="Events"\r\n  ...\r\n></markdown-editor>\r\n```\r\n\r\n#### Attributes\r\n\r\n| 参数            |  类型   | 默认值 | 说明                                   |\r\n| --------------- | :-----: | :----: | -------------------------------------- |\r\n| value / v-model | String  |   ——   | 初始值                                 |\r\n| view            | Boolean | false  | 是否是显示模式                         |\r\n| height          | String  |  auto  | 组件的高度，例如 "100"、"30%"、"200px" |\r\n| scroll          | Boolean |  true  | 是否出现滚动条                         |\r\n| options         | Object  | 如下例 | 组件的高级配置                         |\r\n\r\n##### options.Attributes\r\n\r\n| 参数         |   类型   |   默认值    | 说明                                                                                                                                |\r\n| ------------ | :------: | :---------: | ----------------------------------------------------------------------------------------------------------------------------------- |\r\n| language     |  String  |    zh-CN    | 语言选择，暂支持 zh-CN: 中文简体 ， en: 英文 ， fr: 法语， pt-BR: 葡萄牙语， ru: 俄语， de: 德语， ja: 日语                         |\r\n| fontSize     |  String  |    15px     | 编辑区域文字大小                                                                                                                    |\r\n| scrollStyle  | Boolean  |    true     | 开启滚动条样式(暂时仅支持 chrome)                                                                                                   |\r\n| boxShadow    | Boolean  |    true     | 开启边框阴影                                                                                                                        |\r\n| subfield     | Boolean  |    true     | true： 双栏(编辑预览同屏)， false： 单栏(编辑预览分屏)                                                                              |\r\n| defaultOpen  |  String  |             | edit： 默认展示编辑区域 ， preview： 默认展示预览区域 , 其他 = edit                                                                 |\r\n| placeholder  |  String  | 开始编辑... | 输入框为空时默认提示文本                                                                                                            |\r\n| editable     | Boolean  |    true     | 是否允许编辑                                                                                                                        |\r\n| codeStyle    |  String  | code-github | markdown 样式： 默认 github, [可选配色方案](https://github.com/hinesboy/mavonEditor/blob/master/src/lib/core/hljs/lang.hljs.css.js) |\r\n| toolbarsFlag | Boolean  |    true     | 工具栏是否显示                                                                                                                      |\r\n| navigation   | Boolean  |    false    | 默认展示目录                                                                                                                        |\r\n| shortCut     | Boolean  |    true     | 是否启用快捷键                                                                                                                      |\r\n| autofocus    | Boolean  |    true     | 自动聚焦到文本框                                                                                                                    |\r\n| ishljs       | Boolean  |    true     | 代码高亮                                                                                                                            |\r\n| imageFilter  | function |    null     | 图片过滤函数，参数为一个`File Object`，要求返回一个`Boolean`, `true`表示文件合法，`false`表示文件不合法                             |\r\n| imageClick   | function |    null     | 图片点击事件，默认为预览，可覆盖                                                                                                    |\r\n| tabSize      |  Number  |     \\t      | tab 转化为几个空格，默认为\\t                                                                                                        |\r\n| toolbars     |  Object  |   如下例    | 工具栏                                                                                                                              |\r\n\r\n```javascript\r\n /*\r\n    默认工具栏按钮全部开启, 传入自定义对象\r\n    例如: {\r\n         bold: true, // 粗体\r\n         italic: true,// 斜体\r\n         header: true,// 标题\r\n    }\r\n    此时, 仅仅显示此三个功能键\r\n */\r\ntoolbars: {\r\n      bold: true, // 粗体\r\n      italic: true, // 斜体\r\n      header: true, // 标题\r\n      underline: true, // 下划线\r\n      strikethrough: true, // 中划线\r\n      mark: true, // 标记\r\n      superscript: true, // 上角标\r\n      subscript: true, // 下角标\r\n      quote: true, // 引用\r\n      ol: true, // 有序列表\r\n      ul: true, // 无序列表\r\n      link: true, // 链接\r\n      imagelink: true, // 图片链接\r\n      code: true, // code\r\n      table: true, // 表格\r\n      fullscreen: true, // 全屏编辑\r\n      readmodel: true, // 沉浸式阅读\r\n      htmlcode: true, // 展示html源码\r\n      help: true, // 帮助\r\n      /* 1.3.5 */\r\n      undo: true, // 上一步\r\n      redo: true, // 下一步\r\n      trash: true, // 清空\r\n      save: true, // 保存（触发events中的save事件）\r\n      /* 1.4.2 */\r\n      navigation: true, // 导航目录\r\n      /* 2.1.8 */\r\n      alignleft: true, // 左对齐\r\n      aligncenter: true, // 居中\r\n      alignright: true, // 右对齐\r\n      /* 2.2.1 */\r\n      subfield: true, // 单双栏模式\r\n      preview: true, // 预览\r\n  }\r\n```\r\n\r\n#### Events\r\n\r\n| 事件名           |              参数               | 说明                                                                  |\r\n| ---------------- | :-----------------------------: | --------------------------------------------------------------------- |\r\n| change           | String: value , String: render  | 编辑区发生变化的回调事件(render: value 经过 markdown 解析后的结果)    |\r\n| save             | String: value , String: render  | ctrl + s 的回调事件(保存按键,同样触发该回调)                          |\r\n| fullScreen       | Boolean: status , String: value | 切换全屏编辑的回调事件(boolean: 全屏开启状态)                         |\r\n| readModel        | Boolean: status , String: value | 切换沉浸式阅读的回调事件(boolean: 阅读开启状态)                       |\r\n| htmlCode         | Boolean: status , String: value | 查看 html 源码的回调事件(boolean: 源码开启状态)                       |\r\n| subfieldToggle   | Boolean: status , String: value | 切换单双栏编辑的回调事件(boolean: 双栏开启状态)                       |\r\n| previewToggle    | Boolean: status , String: value | 切换预览编辑的回调事件(boolean: 预览开启状态)                         |\r\n| helpToggle       | Boolean: status , String: value | 查看帮助的回调事件(boolean: 帮助开启状态)                             |\r\n| navigationToggle | Boolean: status , String: value | 切换导航目录的回调事件(boolean: 导航开启状态)                         |\r\n| imgAdd           | String: filename, File: imgfile | 图片文件添加回调事件(filename: 写在 md 中的文件名, File: File Object) |\r\n| imgDel           |        String: filename         | 图片文件删除回调事件(filename: 写在 md 中的文件名)                    |\r\n\r\n#### FastKey\r\n\r\n| key               |    keycode     |       功能        |\r\n| ----------------- | :------------: | :---------------: |\r\n| F8                |      119       |   开启/关闭导航   |\r\n| F9                |      120       |   预览/编辑切换   |\r\n| F10               |      121       |   开启/关闭全屏   |\r\n| F11               |      122       | 开启/关闭阅读模式 |\r\n| F12               |      123       |   单栏/双栏切换   |\r\n| TAB               |       9        |       缩进        |\r\n| CTRL + S          |    17 + 83     |     触发保存      |\r\n| CTRL + D          |    17 + 68     |    删除选中行     |\r\n| CTRL + Z          |    17 + 90     |      上一步       |\r\n| CTRL + Y          |    17 + 89     |      下一步       |\r\n| CTRL + BreakSpace |     17 + 8     |     清空编辑      |\r\n| CTRL + B          |    17 + 66     |     **加粗**      |\r\n| CTRL + I          |    17 + 73     |      _斜体_       |\r\n| CTRL + H          |    17 + 72     |      # 标题       |\r\n| CTRL + 1          | 17 + 97 or 49  |      # 标题       |\r\n| CTRL + 2          | 17 + 98 or 50  |      ## 标题      |\r\n| CTRL + 3          | 17 + 99 or 51  |     ### 标题      |\r\n| CTRL + 4          | 17 + 100 or 52 |     #### 标题     |\r\n| CTRL + 5          | 17 + 101 or 53 |    ##### 标题     |\r\n| CTRL + 6          | 17 + 102 or 54 |    ###### 标题    |\r\n| CTRL + U          |    17 + 85     |    ++下划线++     |\r\n| CTRL + M          |    17 + 77     |     ==标记==      |\r\n| CTRL + Q          |    17 + 81     |      > 引用       |\r\n| CTRL + O          |    17 + 79     |    1. 有序列表    |\r\n| CTRL + L          |    17 + 76     |     [链接]()      |\r\n| CTRL + ALT + S    |  17 + 18 + 83  |     ^上角标^      |\r\n| CTRL + ALT + U    |  17 + 18 + 85  |    - 无序列表     |\r\n| CTRL + ALT + C    |  17 + 18 + 67  |    ``` 代码块     |\r\n| CTRL + ALT + L    |  17 + 18 + 76  |   ![图片链接]()   |\r\n| CTRL + ALT + T    |  17 + 18 + 84  |       表格        |\r\n| CTRL + SHIFT + S  |  17 + 16 + 83  |     ~下角标~      |\r\n| CTRL + SHIFT + D  |  17 + 16 + 68  |    ~~中划线~~     |\r\n| CTRL + SHIFT + C  |  17 + 16 + 67  |       居中        |\r\n| CTRL + SHIFT + L  |  17 + 16 + 76  |       居左        |\r\n| CTRL + SHIFT + R  |  17 + 16 + 82  |       居右        |\r\n| SHIFT + TAB       |     16 + 9     |     取消缩进      |\r\n\r\n#### Markdown 语法拓展\r\n\r\n- [emoji](https://github.com/markdown-it/markdown-it-emoji)\r\n- [subscript](https://github.com/markdown-it/markdown-it-sub)\r\n- [superscript](https://github.com/markdown-it/markdown-it-sup)\r\n- [container](https://github.com/markdown-it/markdown-it-container)\r\n- [definition list](https://github.com/markdown-it/markdown-it-deflist)\r\n- [abbreviation](https://github.com/markdown-it/markdown-it-abbr)\r\n- [footnote](https://github.com/markdown-it/markdown-it-footnote)\r\n- [insert](https://github.com/markdown-it/markdown-it-ins)\r\n- [mark](https://github.com/markdown-it/markdown-it-mark)\r\n- [todo list](https://github.com/revin/markdown-it-task-lists)\r\n- [highlight](https://github.com/isagalaev/highlight.js)\r\n- [katex](https://github.com/Khan/KaTeX)\r\n- [images preview](https://github.com/CHENXCHEN/markdown-it-images-preview)\r\n- [toc](https://github.com/tylerlong/markdown-it-toc)\r\n'},2167:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{attrs:{wrap:"nowrap",justifyContent:"space-between"}},[r("flex-item",{attrs:{grow:1,width:"100%"}},[r("el-card",[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[r("i",{staticClass:"el-icon-user margin-right-6 font-size-16"}),e._v("角色管理 ")]),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-plus",title:"添加"},on:{click:e.handleAddRole}}),r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-search",title:"查询"},on:{click:e.handleQueryRole}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-refresh-left",title:"重置"},on:{click:function(t){return e.$refs["roleForm"].resetFields()}}})],1)],1),r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",{staticClass:"margin-bottom-10"},[r("el-form",{ref:"roleForm",staticClass:"form-style-line",attrs:{model:e.roleForm,"label-position":"right","label-width":"90px"}},[r("el-row",[r("col-pr",[r("el-form-item",{attrs:{label:"隶属组织 :",prop:"orgUuid"}},[r("el-cascader",{attrs:{options:e.orgTree,props:e.orgTreeProps,clearable:""},model:{value:e.roleForm.orgUuid,callback:function(t){e.$set(e.roleForm,"orgUuid",t)},expression:"roleForm.orgUuid"}})],1)],1),r("col-pr",[r("el-form-item",{attrs:{label:"角色编码 :",prop:"roleCode"}},[r("el-input",{attrs:{maxlength:"50","show-word-limit":""},model:{value:e.roleForm.roleCode,callback:function(t){e.$set(e.roleForm,"roleCode",t)},expression:"roleForm.roleCode"}})],1)],1),r("col-pr",[r("el-form-item",{attrs:{label:"角色名称 :",prop:"roleName"}},[r("el-input",{attrs:{maxlength:"50","show-word-limit":""},model:{value:e.roleForm.roleName,callback:function(t){e.$set(e.roleForm,"roleName",t)},expression:"roleForm.roleName"}})],1)],1)],1)],1)],1),r("flex-item",[r("data-table",{ref:"roleTable",attrs:{border:"",index:"","auto-load":"","highlight-current-row":"","auto-update":"","column-button":"","csv-button":"",title:"Data Table","load-data-func":e.loadRole,pageOptions:e.pageOptions}},[r("data-table-column",{attrs:{prop:"roleName",label:"角色名称","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"roleCode",label:"角色编码","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"orgUuid",label:"隶属组织","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-cascader",{staticClass:"cascader-table-disabled",attrs:{options:e.orgTree,value:t.row.orgUuid,props:e.orgViewProps,disabled:""}})]}}])}),r("data-table-column",{attrs:{prop:"roleDesc",label:"角色描述","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"op",label:"操作",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit",title:"编辑"},on:{click:function(r){return e.handleEditRole(t.row)}}}),r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete",title:"删除"},on:{click:function(r){return e.handleDelRole(t.row)}}})]}}])})],1)],1)],1)],1)],1),r("dialog-drag",{attrs:{title:"角色编辑",visible:e.showRoleDia,top:"8vh"},on:{"update:visible":function(t){e.showRoleDia=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-edit margin-right-4"}),e._v("角色编辑 ")]),r("role-mgr-edit",{attrs:{initData:e.editRole},on:{updataData:e.doUpdataRole,close:function(t){e.showRoleDia=!1}}})],1)],1)},n=[],i=(r("456d"),r("ac6a"),r("f3e2"),r("96cf"),r("1da1")),o=r("8070"),l=r("53ab"),s=r("bc30"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[r("el-form",{ref:"editForm",staticClass:"form-style-line",attrs:{model:e.formData,rules:e.formRules,"label-position":"right","label-width":"90px"}},[r("el-row",[r("el-col",[r("el-form-item",{attrs:{label:"角色名称 :",prop:"roleName"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.formData.roleName,callback:function(t){e.$set(e.formData,"roleName",t)},expression:"formData.roleName"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"角色编码 :",prop:"roleCode"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.formData.roleCode,callback:function(t){e.$set(e.formData,"roleCode",t)},expression:"formData.roleCode"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"隶属组织 :",prop:"orgUuid"}},[r("el-cascader",{attrs:{options:e.orgTree,props:e.orgTreeProps,clearable:""},model:{value:e.formData.orgUuid,callback:function(t){e.$set(e.formData,"orgUuid",t)},expression:"formData.orgUuid"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"角色描述 :",prop:"roleDesc"}},[r("el-input",{attrs:{type:"textarea",maxlength:"512","show-word-limit":""},model:{value:e.formData.roleDesc,callback:function(t){e.$set(e.formData,"roleDesc",t)},expression:"formData.roleDesc"}})],1)],1),e.formData.createdUser?[r("el-col",[r("el-form-item",{attrs:{label:"创建用户 :",prop:"createdUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.createdUser,callback:function(t){e.$set(e.formData,"createdUser",t)},expression:"formData.createdUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"创建时间 :",prop:"createdTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.createdTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新用户 :",prop:"updatedUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.updatedUser,callback:function(t){e.$set(e.formData,"updatedUser",t)},expression:"formData.updatedUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新时间 :",prop:"updatedTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.updatedTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1)]:e._e()],2)],1),r("flex-container",{staticClass:"padding-10"},[r("flex-item",{attrs:{width:"100%"}},[r("el-tabs",e._l(e.permMap,(function(t){return r("el-tab-pane",{key:t.key,attrs:{label:t.label}},["1"===t.key?r("role-menu",{attrs:{data:t.data,checkedKeys:e.checkedKeys},model:{value:e.selectedMenu,callback:function(t){e.selectedMenu=t},expression:"selectedMenu"}}):e._e()],1)})),1)],1)],1),r("flex-container",{staticClass:"footer",attrs:{justifyContent:"flex-end"}},[r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateData}},[e._v("确 定")])],1)],1)},u=[],m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-container",[r("flex-item",{attrs:{grow:1}},[r("el-form",{staticClass:"form-style-line"},[r("el-form-item",[r("el-input",{attrs:{placeholder:"输入菜单名称或路径进行过滤",maxlength:"10","show-word-limit":""},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1)],1)],1),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{type:"pinforimary",size:"mini",plain:"",icon:e.isTreeExpand?"icon-ali ali-tuceng":"icon-ali ali-tuceng1",title:e.isTreeExpand?"全部折叠":"全部展开"},on:{click:e.handleExpandSwitch}})],1)],1),r("flex-item",[r("el-tree",{ref:"menuTree",attrs:{"show-checkbox":"",data:e.data,"node-key":e.menuTreeProps.key,props:e.menuTreeProps,"default-expand-all":"",draggable:"","render-content":e.doRenderTreeContent,"filter-node-method":e.doFilterNode},on:{"check-change":e.doCheckChange}})],1)],1)},d=[],p=(r("6762"),r("2fdb"),r("d25f"),{props:{data:{type:Array,default:function(){return[]}},value:{type:Array,default:function(){return[]}},checkedKeys:{type:Array,default:function(){return[]}}},data:function(){return{filterText:"",isTreeExpand:!0,menuTreeProps:{children:"children",label:"menuName",key:"uuid",disabled:function(e){return"1"!==e.menuVisible}}}},watch:{checkedKeys:{handler:function(e){this.$emit("input",e),this.doCheckKeys(e)},immediate:!0},filterText:function(e){this.$refs["menuTree"].filter(e)}},methods:{doCheckKeys:function(e){var t=this;e.forEach((function(e){var r=t.$refs["menuTree"].getNode(e);r.isLeaf&&t.$refs["menuTree"].setChecked(r,!0)}))},handleExpandSwitch:function(){this.isTreeExpand=!this.isTreeExpand,this.$utils.treeExpandSwitch(this.$refs["menuTree"],this.isTreeExpand)},doCheckChange:function(){this.$emit("input",this.$refs["menuTree"].getCheckedKeys().concat(this.$refs["menuTree"].getHalfCheckedKeys()))},doFilterNode:function(e,t){var r=t.menuName.includes(e),a=t.menuUrl.includes(e);return r||a},doRenderTreeContent:function(e,t){var r=t.node,a=t.data,n=(t.store,a.menuIcon+(1==a.menuVisible?" icon-color-success":" icon-color-info"));return e("flex-container",{attrs:{wrap:"nowrap",alignItems:"center",justifyContent:"space-between"}},[e("flex-item",{attrs:{alignItems:"center"}},[e("span",{class:"margin-right-2"},[e("i",{class:n})]),e("el-tooltip",{attrs:{content:a.menuUrl,placement:"right",effect:1==a.menuOpenWay?"dark":"light"}},[e("span",{class:"icon-size-14"},[r.label])])])])}}}),f=p,h=r("2877"),g=Object(h["a"])(f,m,d,!1,null,null,null),b=g.exports,v={components:{RoleMenu:b},props:{initData:{type:Object}},inject:["orgTree","orgTreeProps","permMap"],data:function(){return{loading:!1,selectedMenu:[],checkedKeys:[],formData:Object.assign({},this.initData),formRules:{roleName:[{required:!0,message:"请输入角色名称 !",trigger:"change"}],roleCode:[{required:!0,message:"请输入角色编码 !",trigger:"change"}],orgUuid:[{required:!0,message:"请选择隶属组织 !",trigger:"change"}]}}},mounted:function(){this.initData.uuid&&this.initPermSelect(this.initData.uuid)},methods:{initPermSelect:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,o["a"].getSelectPerm({roleUuid:t});case 4:r=e.sent,Object.keys(r.data).forEach((function(e){"1"===e&&(a.checkedKeys=r.data[e])})),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:return e.prev=10,this.loading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,8,10,13]])})));function t(t){return e.apply(this,arguments)}return t}(),handleUpdateData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$refs["editForm"].validate();case 3:this.formData.permUuids={1:this.selectedMenu},this.$emit("updataData",this.formData),this.$emit("close"),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()}},y=v,x=Object(h["a"])(y,c,u,!1,null,null,null),w=x.exports,D={uuid:null,orgUuid:"",roleCode:"",roleName:"",roleDesc:"",createdUser:"",createdTime:"",updatedUser:"",updatedTime:"",permUuids:null},k={components:{RoleMgrEdit:w},provide:function(){return{orgTree:this.orgTree,orgTreeProps:this.orgTreeProps,permMap:this.permMap}},data:function(){return{permMap:[],orgTree:[],orgTreeProps:{checkStrictly:!0,emitPath:!1,value:"uuid",label:"orgName"},orgViewProps:{checkStrictly:!0,emitPath:!1,value:"uuid",label:"orgName"},showRoleDia:!1,roleForm:{orgUuid:"",roleCode:"",roleName:""},pageOptions:{pagerCount:5},editRole:{}}},mounted:function(){this.initOrgTree(),this.initPermMap()},methods:{initPermMap:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getPermMap();case 2:t=e.sent,this.$utils.clear(this.permMap),Object.keys(t.data).forEach((function(e){var a;"1"===e&&(a=r.$utils.toArrayTree(t.data[e],{key:"menuUrl",parentKey:"menuParent",children:"children",sortKey:"menuOrde"})),r.permMap.push({key:e,label:"菜单资源",data:a})}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initOrgTree:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l["a"].getOrgTree();case 3:t=e.sent,this.$utils.eachTree(t.data,(function(e){0===e.children.length&&delete e.children})),this.$utils.clear(this.orgTree),t.data.forEach((function(e){return r.orgTree.push(e)})),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),loadRole:function(e){return o["a"].querySysRole(e)},handleQueryRole:function(){this.$refs["roleTable"].loadData(this.roleForm,!0)},handleEditRole:function(e){this.editRole=Object.assign({},e),this.showRoleDia=!0},handleAddRole:function(){this.editRole=Object.assign({},D),this.showRoleDia=!0},handleDelRole:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].delSysRole([t.uuid]);case 3:return e.prev=3,this.handleQueryRole(),e.finish(3);case 6:case"end":return e.stop()}}),e,this,[[0,,3,6]])})));function t(t){return e.apply(this,arguments)}return t}(),doUpdataRole:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].saveSysRole(t);case 3:return e.prev=3,this.handleQueryRole(),e.finish(3);case 6:case"end":return e.stop()}}),e,this,[[0,,3,6]])})));function t(t){return e.apply(this,arguments)}return t}()}},T=k,S=Object(h["a"])(T,a,n,!1,null,null,null);t["default"]=S.exports},"24e1":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{staticClass:"tpl-form-create-page",attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",[r("el-alert",{staticClass:"margin-bottom-10",attrs:{title:"模板表单",type:"success",closable:!1,description:"模板表单管理插件，可视化创建form表单且生成渲染json串，再使用json字符串渲染成form表单。"}})],1),r("flex-container",{staticClass:"margin-bottom-10"},[r("tpl-form-create")],1),r("flex-item",[r("markdown-editor",{attrs:{view:""},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),r("flex-item",[r("markdown-editor",{attrs:{view:""},model:{value:e.content2,callback:function(t){e.content2=t},expression:"content2"}})],1)],1)},n=[],i=r("c602"),o=r.n(i),l=r("7337"),s=r.n(l),c={name:"tplFormCreatePage",data:function(){return{content:o.a,content2:s.a}},methods:{}},u=c,m=r("2877"),d=Object(m["a"])(u,a,n,!1,null,"da66247c",null);t["default"]=d.exports},"27ce":function(e,t,r){"use strict";var a=r("6662"),n=r.n(a);n.a},"29d4":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{staticClass:"count-to-page",attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",[r("el-alert",{staticClass:"margin-bottom-10",attrs:{title:"可记忆的输入框",type:"success",closable:!1,description:"基于Element UI select修改，将输入内容缓存至前端缓存,不清空浏览器缓存下拉值是不会被释放的。"}})],1),r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",{staticClass:"count-block",attrs:{justifyContent:"center",alignItems:"center"}},[r("autocomplete-input",{attrs:{"code-key":"AutocompleteInput"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),r("flex-item",[r("markdown-editor",{staticClass:"margin-top-20",attrs:{view:""},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1)],1)},n=[],i=r("0d59"),o=r.n(i),l={data:function(){return{content:o.a,value:""}}},s=l,c=r("2877"),u=Object(c["a"])(s,a,n,!1,null,null,null);t["default"]=u.exports},"2ee1":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{staticClass:"markdown-page-page",attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",[r("el-alert",{staticClass:"margin-bottom-10",attrs:{title:"Markdown 编辑组件",type:"success",closable:!1,description:"该组件使用的是mavonEditor组件进行的二次封装，详见 https://github.com/hinesboy/mavonEditor"}})],1),r("flex-item",[r("markdown-editor",{attrs:{scroll:!0,height:"100%"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1)},n=[],i=r("2096"),o=r.n(i),l={name:"MarkdownPage",data:function(){return{content:o.a}}},s=l,c=(r("f377"),r("2877")),u=Object(c["a"])(s,a,n,!1,null,null,null);t["default"]=u.exports},"33fe":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{staticClass:"cron-tab-page",attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",[r("el-alert",{staticClass:"margin-bottom-10",attrs:{title:"多级路由",type:"success",closable:!1,description:e.$route.path}})],1)],1)},n=[],i=r("2877"),o={},l=Object(i["a"])(o,a,n,!1,null,null,null);t["default"]=l.exports},"38f0":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{staticClass:"cron-tab-page",attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",[r("el-alert",{staticClass:"margin-bottom-10",attrs:{title:"Cron表达式选择器",type:"success",closable:!1,description:"这是一个cron表达式选择工具，用于form表单录入也可以单独使用，使用简单。"}})],1),r("flex-container",{staticClass:"margin-bottom-10"},[r("flex-item",{staticClass:"margin-right-5",attrs:{alignItems:"center"}},[e._v("\n      Cron表达式 :\n    ")]),r("flex-item",{attrs:{grow:1}},[r("cron-tab",{model:{value:e.cronVal,callback:function(t){e.cronVal=t},expression:"cronVal"}})],1)],1),r("flex-item",{staticClass:"margin-bottom-10"},[e._v(e._s(e.cronVal))]),r("flex-item",[r("markdown-editor",{attrs:{view:""},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1)},n=[],i=r("b341"),o=r.n(i),l={name:"CronTabPage",data:function(){return{content:o.a,cronVal:null}}},s=l,c=r("2877"),u=Object(c["a"])(s,a,n,!1,null,null,null);t["default"]=u.exports},"38f1":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{staticClass:"count-to-page",attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",[r("el-alert",{staticClass:"margin-bottom-10",attrs:{title:"数字滚动",type:"success",closable:!1,description:"这是一个数字滚动工具，基于vue-count-to插件"}})],1),r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",{staticClass:"count-block",attrs:{justifyContent:"center",alignItems:"center"}},[r("count-to",{ref:"example",attrs:{"start-val":e.setStartVal,"end-val":e.setEndVal,duration:e.setDuration,decimals:e.setDecimals,separator:e.setSeparator,prefix:e.setPrefix,suffix:e.setSuffix,autoplay:!1}})],1),r("flex-item",{attrs:{justifyContent:"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:e.start}},[e._v("开始")]),r("el-button",{attrs:{type:"danger"},on:{click:e.pauseResume}},[e._v("暂停/恢复")])],1)],1)],1)},n=[],i=r("ec1b"),o=r.n(i),l={name:"CountToDemo",components:{countTo:o.a},data:function(){return{setStartVal:0,setEndVal:2017,setDuration:4e3,setDecimals:0,setSeparator:",",setSuffix:" rmb",setPrefix:"¥ "}},methods:{start:function(){this.$refs.example.start()},pauseResume:function(){this.$refs.example.pauseResume()}}},s=l,c=(r("27ce"),r("2877")),u=Object(c["a"])(s,a,n,!1,null,null,null);t["default"]=u.exports},"4fa9":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{staticClass:"cron-tab-page",attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",[r("el-alert",{staticClass:"margin-bottom-10",attrs:{title:"多级路由",type:"success",closable:!1,description:e.$route.path}})],1)],1)},n=[],i=r("2877"),o={},l=Object(i["a"])(o,a,n,!1,null,null,null);t["default"]=l.exports},"53ab":function(e,t,r){"use strict";var a=r("e716");t["a"]={saveSysOrg:function(e){return a["a"].post("/usrm/orgMgr/saveSysOrg",e)},getSysOrg:function(){return a["a"].get("/usrm/orgMgr/getSysOrg")},delSysOrg:function(e){return a["a"].delete("/usrm/orgMgr/delSysOrg/"+e)},getOrgTree:function(){return a["a"].get("/usrm/orgMgr/getOrgTree")}}},"550a":function(e,t,r){},"553e":function(e,t,r){e.exports=r.p+"img/404.45e21c93.png"},5987:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{attrs:{wrap:"nowrap",justifyContent:"space-between"}},[r("flex-item",{attrs:{grow:1,width:"40%"}},[r("el-card",[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[r("i",{staticClass:"icon-fa fa-book margin-right-6 font-size-16"}),e._v("字典组 ")]),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-plus",title:"添加"},on:{click:e.handleAddDictGroup}}),r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-search",title:"查询"},on:{click:e.handleQueryDictGroup}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-refresh-left",title:"重置"},on:{click:function(t){return e.$refs["dictGroupForm"].resetFields()}}})],1)],1),r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",{staticClass:"margin-bottom-10"},[r("el-form",{ref:"dictGroupForm",staticClass:"form-style-line",attrs:{model:e.dictGroupForm,"label-position":"right","label-width":"50px"}},[r("el-row",[r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:6}},[r("el-form-item",{attrs:{label:"名称 :",prop:"groupName"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.dictGroupForm.groupName,callback:function(t){e.$set(e.dictGroupForm,"groupName",t)},expression:"dictGroupForm.groupName"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:6}},[r("el-form-item",{attrs:{label:"索引 :",prop:"groupKey"}},[r("el-input",{attrs:{maxlength:"50","show-word-limit":""},model:{value:e.dictGroupForm.groupKey,callback:function(t){e.$set(e.dictGroupForm,"groupKey",t)},expression:"dictGroupForm.groupKey"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:6}},[r("el-form-item",{attrs:{label:"类型 :",prop:"dictType"}},[r("dict-select",{attrs:{"dict-key":"DictType",placeholder:"请选择",clearable:""},model:{value:e.dictGroupForm.dictType,callback:function(t){e.$set(e.dictGroupForm,"dictType",t)},expression:"dictGroupForm.dictType"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:6}},[r("el-form-item",{attrs:{label:"状态 :",prop:"groupStat"}},[r("dict-select",{attrs:{"dict-key":"GroupStat",placeholder:"请选择",clearable:""},model:{value:e.dictGroupForm.groupStat,callback:function(t){e.$set(e.dictGroupForm,"groupStat",t)},expression:"dictGroupForm.groupStat"}})],1)],1)],1)],1)],1),r("flex-item",[r("data-table",{ref:"dictGroupTable",attrs:{border:"",index:"","auto-load":"","highlight-current-row":"","auto-update":"","column-button":"","csv-button":"",title:"Data Table","load-data-func":e.loadDictGroup,pageOptions:e.pageOptions},on:{"current-change":e.doDictGroupCurrChange}},[r("data-table-column",{attrs:{prop:"groupName",label:"名称","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"groupKey",label:"索引","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"dictType",label:"类型","show-overflow-tooltip":"",formatter:function(t){return e.$utils.tableColDictFormt("DictType",t.dictType)}}}),r("data-table-column",{attrs:{prop:"groupStat",label:"状态","show-overflow-tooltip":"",formatter:function(t){return e.$utils.tableColDictFormt("GroupStat",t.groupStat)}}}),r("data-table-column",{attrs:{prop:"op",label:"操作",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit",title:"编辑"},on:{click:function(r){return e.handleEditDictGroup(t.row,r)}}}),r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete",title:"删除"},on:{click:function(r){return e.handleDelDictGroup(t.row,r)}}})]}}])})],1)],1)],1)],1)],1),e.showDictItem?r("flex-item",{staticClass:"margin-left-10",attrs:{grow:1,width:"40%"}},["1"===e.currDictGroup.dictType?r("DictMgrItemSelect",{attrs:{initData:e.currDictGroup},on:{close:e.doCloseDictItem}}):e._e(),"2"===e.currDictGroup.dictType?r("DictMgrItemTree",{attrs:{initData:e.currDictGroup},on:{close:e.doCloseDictItem}}):e._e()],1):e._e(),r("dialog-drag",{attrs:{title:"字典组编辑",visible:e.showDictGroupDia},on:{"update:visible":function(t){e.showDictGroupDia=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-edit margin-right-4"}),e._v("字典组编辑 ")]),r("dictMgr-group-edit",{attrs:{initData:e.editDictGroup},on:{updataData:e.doUpdataDictGroup,close:function(t){e.showDictGroupDia=!1}}})],1)],1)},n=[],i=(r("96cf"),r("1da1")),o=r("570b"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",[r("el-form",{ref:"editForm",staticClass:"form-style-line",attrs:{model:e.formData,rules:e.formRules,"label-position":"right","label-width":"80px"}},[r("el-row",{attrs:{span:12}},[r("el-col",[r("el-form-item",{attrs:{label:"名称 :",prop:"groupName"}},[r("el-input",{attrs:{maxlength:"40","show-word-limit":""},model:{value:e.formData.groupName,callback:function(t){e.$set(e.formData,"groupName",t)},expression:"formData.groupName"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"索引 :",prop:"groupKey"}},[r("el-input",{attrs:{maxlength:"40","show-word-limit":""},model:{value:e.formData.groupKey,callback:function(t){e.$set(e.formData,"groupKey",t)},expression:"formData.groupKey"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"类型 :",prop:"dictType"}},[r("dict-select",{attrs:{"dict-key":"DictType",placeholder:"请选择",clearable:""},model:{value:e.formData.dictType,callback:function(t){e.$set(e.formData,"dictType",t)},expression:"formData.dictType"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"状态 :",prop:"groupStat"}},[r("dict-select",{attrs:{"dict-key":"GroupStat",placeholder:"请选择",clearable:""},model:{value:e.formData.groupStat,callback:function(t){e.$set(e.formData,"groupStat",t)},expression:"formData.groupStat"}})],1)],1),e.formData.createdUser?[r("el-col",[r("el-form-item",{attrs:{label:"创建用户 :",prop:"createdUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.createdUser,callback:function(t){e.$set(e.formData,"createdUser",t)},expression:"formData.createdUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"创建时间 :",prop:"createdTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.createdTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新用户 :",prop:"updatedUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.updatedUser,callback:function(t){e.$set(e.formData,"updatedUser",t)},expression:"formData.updatedUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新时间 :",prop:"updatedTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.updatedTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1)]:e._e()],2)],1),r("flex-container",{staticClass:"footer",attrs:{justifyContent:"flex-end"}},[r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateData}},[e._v("确 定")])],1)],1)},s=[],c={props:{initData:{type:Object}},data:function(){return{formData:Object.assign({},this.initData),formRules:{groupName:[{required:!0,message:"请输入名称 !",trigger:"change"}],groupKey:[{required:!0,message:"请输入索引 !",trigger:"change"}],dictType:[{required:!0,message:"请选择类型 !",trigger:"change"}],groupStat:[{required:!0,message:"请选择状态 !",trigger:"change"}]}}},watch:{"formData.dictType":{handler:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.formData.dictType===this.initData.dictType||!this.initData.uuid){e.next=4;break}return e.next=4,this.$confirm("检测到字典类型修改,该操作会使其下字典数据清空,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.formData.dictType=this.initData.dictType;case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()}},methods:{handleUpdateData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$refs["editForm"].validate();case 3:this.$emit("updataData",this.formData),this.$emit("close"),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}},u=c,m=r("2877"),d=Object(m["a"])(u,l,s,!1,null,null,null),p=d.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[r("i",{staticClass:"el-icon-s-operation margin-right-6 font-size-16"}),e._v("组数据 ")]),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-plus",title:"添加"},on:{click:e.handleAddDictItem}}),r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-search",title:"查询"},on:{click:e.handleQueryDictItem}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-refresh-left",title:"重置"},on:{click:function(t){return e.$refs["dictItemForm"].resetFields()}}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-close",title:"关闭面板"},on:{click:function(t){return e.$emit("close")}}})],1)],1),r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",{staticClass:"margin-bottom-10"},[r("el-form",{ref:"dictItemForm",staticClass:"form-style-line",attrs:{model:e.dictItemForm,"label-position":"right","label-width":"55px"}},[r("el-row",[r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:6}},[r("el-form-item",{attrs:{label:"名称 :",prop:"dictName"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.dictItemForm.dictName,callback:function(t){e.$set(e.dictItemForm,"dictName",t)},expression:"dictItemForm.dictName"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:6}},[r("el-form-item",{attrs:{label:"Key :",prop:"dictKey"}},[r("el-input",{attrs:{maxlength:"50","show-word-limit":""},model:{value:e.dictItemForm.dictKey,callback:function(t){e.$set(e.dictItemForm,"dictKey",t)},expression:"dictItemForm.dictKey"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:6}},[r("el-form-item",{attrs:{label:"Value :",prop:"dictValue"}},[r("el-input",{attrs:{maxlength:"50","show-word-limit":""},model:{value:e.dictItemForm.dictValue,callback:function(t){e.$set(e.dictItemForm,"dictValue",t)},expression:"dictItemForm.dictValue"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:6}},[r("el-form-item",{attrs:{label:"状态 :",prop:"dictStat"}},[r("dict-select",{attrs:{"dict-key":"GroupStat",placeholder:"请选择",clearable:""},model:{value:e.dictItemForm.dictStat,callback:function(t){e.$set(e.dictItemForm,"dictStat",t)},expression:"dictItemForm.dictStat"}})],1)],1)],1)],1)],1),r("flex-item",[r("data-table",{ref:"dictItemTable",attrs:{border:"",index:"","highlight-current-row":"","auto-update":"","column-button":"","csv-button":"",title:"Data Table","load-data-func":e.loadDictItem,pageOptions:e.pageOptions}},[r("data-table-column",{attrs:{prop:"dictName",label:"名称","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"dictKey",label:"Key","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"dictValue",label:"Value","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"dictStat",label:"状态","show-overflow-tooltip":"",formatter:function(t){return e.$utils.tableColDictFormt("GroupStat",t.dictStat)}}}),r("data-table-column",{attrs:{prop:"op",label:"操作",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit",title:"编辑"},on:{click:function(r){return e.handleEditDictItem(t.row)}}}),r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete",title:"删除"},on:{click:function(r){return e.handleDelDictItem(t.row)}}})]}}])})],1)],1)],1),r("dialog-drag",{attrs:{title:"组数据编辑",visible:e.showDictItemDia},on:{"update:visible":function(t){e.showDictItemDia=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-edit margin-right-4"}),e._v("组数据编辑 ")]),r("dictMgr-item-edit",{attrs:{initData:e.editDictItem},on:{updataData:e.doUpdataDictItem,close:function(t){e.showDictItemDia=!1}}})],1)],1)},h=[],g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",[r("el-form",{ref:"editForm",staticClass:"form-style-line",attrs:{model:e.formData,rules:e.formRules,"label-position":"right","label-width":"80px"}},[r("el-row",{attrs:{span:12}},[r("el-col",[r("el-form-item",{attrs:{label:"名称 :",prop:"dictName"}},[r("el-input",{attrs:{maxlength:"40","show-word-limit":""},model:{value:e.formData.dictName,callback:function(t){e.$set(e.formData,"dictName",t)},expression:"formData.dictName"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"Key :",prop:"dictKey"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.formData.dictKey,callback:function(t){e.$set(e.formData,"dictKey",t)},expression:"formData.dictKey"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"Value :",prop:"dictValue"}},[r("el-input",{attrs:{maxlength:"40","show-word-limit":""},model:{value:e.formData.dictValue,callback:function(t){e.$set(e.formData,"dictValue",t)},expression:"formData.dictValue"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"状态 :",prop:"dictStat"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.dictStat,callback:function(t){e.$set(e.formData,"dictStat",t)},expression:"formData.dictStat"}},[r("el-option",{attrs:{label:"可用",value:"1"}}),r("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1)],1),e.formData.createdUser?[r("el-col",[r("el-form-item",{attrs:{label:"创建用户 :",prop:"createdUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.createdUser,callback:function(t){e.$set(e.formData,"createdUser",t)},expression:"formData.createdUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"创建时间 :",prop:"createdTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.createdTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新用户 :",prop:"updatedUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.updatedUser,callback:function(t){e.$set(e.formData,"updatedUser",t)},expression:"formData.updatedUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新时间 :",prop:"updatedTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.updatedTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1)]:e._e()],2)],1),r("flex-container",{staticClass:"footer",attrs:{justifyContent:"flex-end"}},[r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateData}},[e._v("确 定")])],1)],1)},b=[],v={props:{initData:{type:Object},type:{type:String,default:"select"}},data:function(){return{formData:Object.assign({},this.initData),formRules:{dictName:[{required:!0,message:"请输入名称 !",trigger:"change"}],dictKey:[{required:!0,message:"请输入Key !",trigger:"change"}],dictValue:[{required:!0,message:"请选择Value !",trigger:"change"}],dictOrde:[{type:"number",message:"请选择数字 !",trigger:"change"}]}}},methods:{handleUpdateData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$refs["editForm"].validate();case 3:this.$emit("updataData",this.formData),this.$emit("close"),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}},y=v,x=Object(m["a"])(y,g,b,!1,null,null,null),w=x.exports,D={dictName:"",dictKey:"",dictValue:"",dictOrde:0,dictPuuid:"",dictStat:"1"},k={components:{DictMgrItemEdit:w},props:{initData:{type:Object}},data:function(){return{pageOptions:{pagerCount:5},dictItemForm:{dictName:"",dictKey:"",dictValue:"",dictStat:""},showDictItemDia:!1,editDictItem:{}}},watch:{"initData.uuid":{handler:function(e){var t=this;this.$nextTick((function(){e&&t.$refs["dictItemTable"].loadData({groupUuid:e})}))},immediate:!0}},methods:{loadDictItem:function(e){return o["a"].querySysDictSelectItem(e)},handleEditDictItem:function(e){this.editDictItem=Object.assign({},e),this.showDictItemDia=!0},handleAddDictItem:function(){this.editDictItem=Object.assign({},D,{groupUuid:this.initData.uuid}),this.showDictItemDia=!0},handleQueryDictItem:function(){this.$refs["dictItemTable"].loadData(Object.assign(this.dictItemForm,{groupUuid:this.initData.uuid}),!0)},handleDelDictItem:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].delSysDictItem([t.uuid]);case 3:e.sent;case 4:return e.prev=4,this.handleQueryDictItem(),e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[0,,4,7]])})));function t(t){return e.apply(this,arguments)}return t}(),doUpdataDictItem:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].saveSysDictItem([t]);case 3:return e.prev=3,this.handleQueryDictItem(),e.finish(3);case 6:case"end":return e.stop()}}),e,this,[[0,,3,6]])})));function t(t){return e.apply(this,arguments)}return t}()}},T=k,S=Object(m["a"])(T,f,h,!1,null,null,null),C=S.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[r("i",{staticClass:"el-icon-s-operation margin-right-6 font-size-16"}),e._v("组数据\n      "),e.isSort&&e.dictTree.length>0&&e.dictTree[0].children.length>0?r("el-tooltip",{attrs:{content:"排序已修改,请保存 !",placement:"right"}},[r("i",{staticClass:"el-icon-warning icon-color-danger"})]):e._e()],1),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{size:"mini",circle:"",icon:"icon-ali ali-gongju",title:"排序整理"},on:{click:e.handleSave}}),r("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-refresh",title:"刷新"},on:{click:e.loadDictTree}}),r("el-button",{attrs:{size:"mini",plain:"",circle:"",icon:e.isTreeExpand?"icon-ali ali-tuceng":"icon-ali ali-tuceng1",title:e.isTreeExpand?"全部折叠":"全部展开"},on:{click:e.handleExpandSwitch}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-close",title:"关闭面板"},on:{click:function(t){return e.$emit("close")}}})],1)],1),r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",{staticClass:"margin-bottom-10"},[r("el-form",{staticClass:"form-style-line"},[r("el-form-item",[r("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1)],1)],1),r("flex-item",[r("el-tree",{ref:"dictTree",attrs:{data:e.dictTree,"node-key":"uuid","default-expand-all":"","filter-node-method":e.doFilterNode,draggable:"","allow-drop":e.doAllowDropNode},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,n=t.data;return r("flex-container",{attrs:{wrap:"nowrap",justifyContent:"space-between"}},[n.root?r("flex-item",{attrs:{alignItems:"center"}},[e._v("\n            "+e._s(e.initData.groupName)+"根节点\n            "),r("el-tag",{staticClass:"margin-left-4",attrs:{type:"warning"}},[e._v("注意 : 该结点使用时不显示 !")])],1):r("flex-item",{attrs:{alignItems:"center"}},[r("el-tooltip",{attrs:{content:"Key: "+n.dictKey+" , Value: "+n.dictValue,placement:"right"}},[r("el-button",{attrs:{type:"text",disabled:"0"===n.dictStat}},[e._v(e._s(n.dictName))])],1)],1),r("flex-item",{staticClass:"margin-right-10"},[r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-plus",title:"添加子节点"},on:{click:function(t){return e.doAppendNode(n,t)}}}),n.root?e._e():r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit",title:"修改"},on:{click:function(t){return e.doEditNode(n,t)}}}),n.root?e._e():r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete",title:"删除"},on:{click:function(t){return e.doDelNode(a,n,t)}}})],1)],1)}}])})],1)],1),r("dialog-drag",{attrs:{title:"组数据编辑",visible:e.showDictItemDia},on:{"update:visible":function(t){e.showDictItemDia=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-edit margin-right-4"}),e._v("组数据编辑\n    ")]),r("dictMgr-item-edit",{attrs:{type:"tree",initData:e.editDictItem},on:{updataData:e.doUpdataDictItem,close:function(t){e.showDictItemDia=!1}}})],1)],1)},F=[],O=(r("57e7"),r("ac6a"),r("f3e2"),r("d25f"),{dictName:"",dictKey:"",dictValue:"",dictOrde:0,dictPuuid:"",dictStat:"1"}),U={components:{DictMgrItemEdit:w},props:{initData:{type:Object}},data:function(){return{isTreeExpand:!0,isSort:!1,showDictItemDia:!1,filterText:"",dictTree:[],editDictItem:{}}},watch:{"initData.uuid":{handler:function(e){var t=this;this.$nextTick((function(){t.loadDictTree()}))},immediate:!0},filterText:function(e){this.$refs["dictTree"].filter(e)}},methods:{loadDictTree:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].querySysDictTreeItem({groupUuid:this.initData.uuid});case 2:t=e.sent,r=[],t.data.length>0&&(r=this.$utils.toArrayTree(t.data,{key:"uuid",parentKey:"dictPuuid",sortKey:"dictOrde"})),a={uuid:this.$utils.now(),root:!0,children:r},this.dictTree=[a];case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSave:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.$utils.addTreeSort(this.dictTree,"dictOrde"),t=this.$utils.toTreeArray(this.dictTree[0].children),t.forEach((function(e){return delete e.children})),e.next=6,o["a"].saveSysDictItem(t);case 6:this.isSort=!1;case 7:return e.prev=7,this.loadDictTree(this.initData.uuid),e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[0,,7,10]])})));function t(){return e.apply(this,arguments)}return t}(),handleExpandSwitch:function(){this.isTreeExpand=!this.isTreeExpand,this.$utils.treeExpandSwitch(this.$refs["dictTree"],this.isTreeExpand)},doAllowDropNode:function(e,t,r){var a=e.parent.id===t.parent.id&&"inner"!==r;return a&&(this.isSort=!0),a},doUpdataDictItem:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].saveSysDictItem([t]);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e["catch"](0);case 7:return e.prev=7,this.loadDictTree(),e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[0,5,7,10]])})));function t(t){return e.apply(this,arguments)}return t}(),doAppendNode:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r.stopPropagation(),a=Object.assign({},O,{dictName:"新增节点",dictKey:"null",dictValue:"null",groupUuid:this.initData.uuid,dictPuuid:t.uuid}),e.next=5,o["a"].saveSysDictItem([a]);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,this.loadDictTree(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,7,9,12]])})));function t(t,r){return e.apply(this,arguments)}return t}(),doEditNode:function(e,t){this.editDictItem=e,this.showDictItemDia=!0,t.stopPropagation()},doDelNode:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a.stopPropagation(),e.next=4,o["a"].delSysDictItem([r.uuid]);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:return e.prev=8,this.loadDictTree(),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[0,6,8,11]])})));function t(t,r,a){return e.apply(this,arguments)}return t}(),doFilterNode:function(e,t){return!e||-1!==JSON.stringify(t).indexOf(e)}}},$=U,R=Object(m["a"])($,z,F,!1,null,null,null),N=R.exports,j={groupName:"",groupKey:"",dictType:"",groupStat:""},q={components:{DictMgrGroupEdit:p,DictMgrItemSelect:C,DictMgrItemTree:N},data:function(){return{showDictItem:!1,showDictGroupDia:!1,showDictItemDia:!1,dictGroupForm:{groupName:"",groupKey:"",dictType:"",groupStat:""},pageOptions:{pagerCount:5},currDictGroup:null,editDictGroup:{}}},methods:{loadDictGroup:function(e){return o["a"].querySysDictGroup(e)},handleQueryDictGroup:function(){this.$refs["dictGroupTable"].loadData(this.dictGroupForm,!0)},handleEditDictGroup:function(e,t){t.stopPropagation(),this.editDictGroup=Object.assign({},e),this.showDictGroupDia=!0},handleAddDictGroup:function(){this.editDictGroup=Object.assign({},j),this.showDictGroupDia=!0},handleDelDictGroup:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r.stopPropagation(),e.next=4,o["a"].delSysDictGroup([t.uuid]);case 4:return e.prev=4,this.handleQueryDictGroup(),e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[0,,4,7]])})));function t(t,r){return e.apply(this,arguments)}return t}(),doDictGroupCurrChange:function(e){e&&e.uuid?(this.currDictGroup=Object.assign({},e),this.showDictItem||(this.showDictItem=!0)):this.showDictItem&&(this.showDictItem=!1)},doCloseDictItem:function(){this.$refs["dictGroupTable"].getEl().setCurrentRow(),this.showDictItem=!1},doUpdataDictGroup:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].saveSysDictGroup(t);case 3:return e.prev=3,this.handleQueryDictGroup(),e.finish(3);case 6:case"end":return e.stop()}}),e,this,[[0,,3,6]])})));function t(t){return e.apply(this,arguments)}return t}()}},M=q,P=Object(m["a"])(M,a,n,!1,null,null,null);t["default"]=P.exports},"5e11":function(e,t,r){},"652b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAACKCAMAAABhAnODAAADAFBMVEVHcEz3+v7////3+v7////////////8/f/////////////////+/v/7///3+v7////3+f78///////////////4+v73+/7////////////7/P/////4+/7+/v/////////////////////////////////////7/P/p8f37/f/2+v76+/7////3+f74+//////4+/74+//3+f7w9v3////////////////o8vz////////4+v/////3+v7////3+/74+v73+v7y9/3////////4+/77/P/////9///3+v73+v72+v7////6/P/3+/3y9/z////////////o8Pz0+P79/v/////////////+/v/2+v7////////o8fz////o8v3////3+v7s9P3p8vz0/f/o8fz0+P7s9P3////3+v72+v77/f/8/f/////9/v/6/P/3+v74+//p8vz////3+v/////////o8Pz3+v7////3+v74+/7////3+v30+P/4+//2+//////2+v3r8vz////r8/z////////09/7////o8fz9/v/////p8fv3+v7////////o8Pz4+v7////p8fz////r8/z////////////4+/74+//x9vz////s8/z2+v7////////////z9/79/f/////v9f7////o8fvo8fz4+v7p8f33+v/n8fz3+v/o8fzp8vzo8fz8/v/x9/7////+/v/2+v74/P/+/v/2+f7////2+v7s9P33+v34+v/7/P/4+f32+//////7/f75/P/7/P/3+f/3+v7z9/zo8f3s9P7t9f7////3+f3////////////s9Pz8/f/q8//p8Pvt9Pzq9P34///o8f3////////3+//7/f/n8Pvp8P3////2+P7////o8P3////z+P74///n8/v6/P7v9v7p8P/////3+f32+v72+//////2+v39/v/////y9/76/f/v9f309/33+/7////5/P73+v7////n8Pv2+f3z+P3////0+P5cT+Y+AAAA+nRSTlMA/vT95QH2/ab7AvwSDvoJ5gzN4e/z7QTC6rz59DVOQCHd/oGo6yvE9BXNv9vf0uLFwuO/+FvIaPqbBzDA/Bi7zfe58hnxvvoe+MjLBmyfw3XY8eS+RNbf1zfT1I786O3R4droHv7CwbXY7O6/7OPK1tPGxbTKxPDcUtnACqctfHNjkdEjz4gpy779+ZnUvW1e89U5W5fMKMu06FTLsNXPut6ixTN8zg/YttDfuvhkqk+aS7zn29FIn65/7seXt8+LOxuNUFZaxL58zMexgmmF7eL8PonA3iRtGpR49oxpeehQea3AJkH1wSJzhddykpTQhLTUgaTqPeOqZepZYwAABexJREFUeNrt3HlUE0ccB/AFQspNIFAISqsBURQCiIAC4RIEuVpQVLAghwjSZ7WAQg0C+rRirVW8akVF64GKeJZKPfAWe5/2vksve1+0DutrkTx4AXY3k83MZvpevv9n+Dwymd/s7G+XojDncsPFAGffyPO1V6sdKEJif6n29nhaI5KA1Jrr7jYGRb13/ZckO5o5Z5OW1XgZwNSUUVNeQnPl8K9AlCCoyar6aOpGE04UHe0vBT2ZJdg36n3yh6fiaG2RBKQDdcrs8ZuS3VOW+dIQUSyUg/68YoUVlXDtiv9UGBRt15EGBuRJbCjblNTxNGS6xsnA4JzBBXuBps0kCn+VKnGpltm1aPQEwJDleFy1mn86bn6iKlI1No9h8VL6OwLmWN+Hw3VJyTiT8qJU7UcCFNv7Vo173aSANeJNGJYHLdOrKyugvT2yw20y4MqCp5GvpZEwU17pB7REGosY9irUb3Eh0JpcW6Su0yYwro0AImuSEbrmlsC4nEfBwICnOTKXSyLUF3kBwGU/MtgKVBNMHQtUrgYol8RUaNjXcTAukxlAYJi9AuofNhoIDUuFci21FBp2FMoVPRMIDAuLRv1FIoL95Quz5icBwWHdhc1Fvx/J4t5Nl8gMAFOnYmtMTNJZNlgwMBisN9n5353qYNiWqYCBYerMeSlw3o+aO2pfUzJgvZmYf66zUV0R7HIBQTB1Cg48kCRxA+TBerOWVNg9RpgRZoQZYUaYEfZ/hYlFfbGwIgqG5CQbMwx4kAoDr5EKkz9GKAxMuJ9QGEgPIxQGRCMIhQEfb0JhYJsDoTCwm1SYpRFmhBlhkNm0tZ5AmP1yx56PKAJXtRAFW3nljf69cFTgumwyYFYni+UDP+qUePNgoaFhNrdGMn5ctvdmswFh+9rEHEM80lk0zRCw5CCIQ/vW6UUFwsISXoe9xyH/41RphVCwjJ3WOo0WfyHmXD12mO36ND4jisvlWGFeW0x5DeizGAB8MJdr4fyGk5bJAT5Y7BkRv8FyllgCVJENYf3tGc9vKCdXMTKW6W9Ng1gRbX48hwpPR8Ya9vPQq7fbtFkUVyMa21Cuo5CxrNsYendPq1s5Dutmk5eJkLHAV6sZpn1VfzNrjw26PyF4DzrWbnfGZeLigBaY56FsjmnoWMEs5zxhQ7ohs9xGcg81Oxcda/YXbHtBxqawRzlsPtvQsfZsYD0XTmHtrnXzYRrKL1iOjPVcigtr0b7M1Xw1f8pgmwzhMu/0WRV3fzJ3e5OmDeUyL368iWvvdRWiY6dySqt6KNfJyFjxH0Zw7gkdINvMK8e1DluyABlL/qy2U80VsO3vtDIH3U9xp9ZnWvYpoWH/IGOtydR+OdsI7XJGxVqcAXHl+BO0i34YDWsG1P2PucOhXV1IWNINcLf/yuH/YWsRsGTrIdu+G+Bd2/Vnpe+HPcNvkkC77BAs8/BPcJ0XbubHb/kA/jwu0wzaFafnMm+xUpfWfIVQMz/cXadz1Y/gXSV6LVy6PoIUUwLrMtFnIxiic99Cd8vLNySYZ76pB4/Hd+8etT2xanqeVtdU3lewkyL0uZW860YlN+xjnq5nVuvdFfBu5yLkuwpHfi0BQ+4NFczLYlnWeF0RzQzi/8jR0NbpvY1KNGur061QxN1NY3aMHdSvb8bjMOkh/Z5rZmvqPlCnuUn7Vufy4zmConDA7i4iu+r6roGjMZcf3W+M5tf1Foa3MJcfXnds39zx+XDc5YffreTu7n9xlx++sDu4yw92GN/ygxnGv/xghUmDzCkCYU4PhlIUeTB9yw8mmP7lBw/M1Z2iCITNwvICBr1hOSHY3j+iDwxZ+WFKPW+Y9aRYCmOqNh+ayAtWjP9lRTaflhbqCkNbfjgOO79cpwsMdfnhTPU7zZAw9OVHS8zfPjFHOwxH+YE4LTt+bAwnDE/5gYrD5kPZrDDXTMqQ8X6/lBGGrfzokO9fPDgYlhPiQhGRsE+macDEHsS8O4+irL45UaGGYS4/PBJ6/FhL951iL4rA2Hb+SRnTn/8AbwreTJLMvGQAAAAASUVORK5CYII="},6662:function(e,t,r){},"6d38":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",{directives:[{name:"show",rawName:"v-show",value:e.showQuery,expression:"showQuery"}],staticClass:"margin-bottom-10"},[r("el-card",[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[r("i",{staticClass:"el-icon-s-operation margin-right-6 font-size-16"}),e._v("查询参数\n        ")]),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-search",title:"查询"},on:{click:e.handleQuery}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-refresh-left",title:"重置"},on:{click:function(t){return e.$refs["queryForm"].resetFields()}}})],1)],1),r("el-form",{ref:"queryForm",staticClass:"form-style-line",attrs:{model:e.queryForm,"label-position":"right","label-width":"80px"}},[r("el-row",[r("col-pr",[r("el-form-item",{attrs:{label:"菜单名称 :",prop:"menuName"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.queryForm.menuName,callback:function(t){e.$set(e.queryForm,"menuName",t)},expression:"queryForm.menuName"}})],1)],1),r("col-pr",[r("el-form-item",{attrs:{label:"菜单路径 :",prop:"menuUrl"}},[r("el-input",{attrs:{maxlength:"50","show-word-limit":""},model:{value:e.queryForm.menuUrl,callback:function(t){e.$set(e.queryForm,"menuUrl",t)},expression:"queryForm.menuUrl"}})],1)],1),r("col-pr",[r("el-form-item",{attrs:{label:"打开方式 :",prop:"menuOpenWay"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryForm.menuOpenWay,callback:function(t){e.$set(e.queryForm,"menuOpenWay",t)},expression:"queryForm.menuOpenWay"}},[r("el-option",{attrs:{label:"当前窗口",value:1}}),r("el-option",{attrs:{label:"弹出窗口",value:2}})],1)],1)],1),r("col-pr",[r("el-form-item",{attrs:{label:"是否可见 :",prop:"menuVisible"}},[r("el-radio-group",{model:{value:e.queryForm.menuVisible,callback:function(t){e.$set(e.queryForm,"menuVisible",t)},expression:"queryForm.menuVisible"}},[r("el-radio",{attrs:{label:1}},[e._v("可见")]),r("el-radio",{attrs:{label:0}},[e._v("不可见")])],1)],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:16,lg:12,xl:8}},[r("el-form-item",{attrs:{label:"更新时间 :",prop:"updatedTime"}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.queryForm.updatedTime,callback:function(t){e.$set(e.queryForm,"updatedTime",t)},expression:"queryForm.updatedTime"}})],1)],1)],1)],1)],1)],1),r("flex-item",{attrs:{grow:1}},[r("el-card",[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[r("i",{staticClass:"icon-fa fa-bars margin-right-6 font-size-16"}),r("span",{staticClass:"margin-right-4"},[e._v("系统菜单")]),e.isSort&&e.sysMenu.length>0?r("el-tooltip",{attrs:{content:"排序已修改,请保存 !",placement:"right"}},[r("i",{staticClass:"el-icon-warning icon-color-danger"})]):e._e()],1),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{loading:e.treeLoading,type:"primary",size:"mini",circle:"",icon:"el-icon-plus",title:"添加"},on:{click:e.handleShowMenuAddDia}}),r("el-button",{attrs:{loading:e.treeLoading,size:"mini",circle:"",icon:"icon-ali ali-gongju-",title:"排序整理"},on:{click:e.handleSaveSysMenu}}),r("el-button",{attrs:{loading:e.treeLoading,size:"mini",circle:"",icon:"el-icon-refresh",title:"刷新"},on:{click:e.doLoadTree}}),r("el-button",{attrs:{loading:e.treeLoading,size:"mini",plain:"",circle:"",icon:e.isTreeExpand?"icon-ali ali-tuceng":"icon-ali ali-tuceng1",title:e.isTreeExpand?"全部折叠":"全部展开"},on:{click:e.handleExpandSwitch}}),r("el-button",{attrs:{loading:e.treeLoading,size:"mini",plain:"",circle:"",icon:e.showQuery?"el-icon-caret-bottom":"el-icon-caret-top",title:e.showQuery?"隐藏查询面板":"显示查询面板"},on:{click:e.handleShowQuery}})],1)],1),r("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"menuTree",attrs:{data:e.sysMenu,"node-key":e.menuTreeProps.key,props:e.menuTreeProps,"default-expand-all":"",draggable:"","allow-drop":e.doAllowDropNode,"render-content":e.doRenderTreeContent,"filter-node-method":e.doFilterNode}})],1)],1),r("dialog-drag",{attrs:{title:"开发菜单",visible:e.MenuAddVisible},on:{"update:visible":function(t){e.MenuAddVisible=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"icon-fa fa-bars margin-right-4"}),e._v("开发菜单\n    ")]),r("menu-add",{attrs:{initData:e.sysMenuKeys},on:{updataTree:e.doUpdataTree,close:function(t){e.MenuAddVisible=!1}}})],1),r("dialog-drag",{attrs:{title:"编辑数据",visible:e.MenuEditVisible},on:{"update:visible":function(t){e.MenuEditVisible=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-edit margin-right-4"}),e._v("编辑数据\n    ")]),r("menu-edit",{attrs:{initData:e.editSysMenu},on:{updataData:e.doUpdataData,close:function(t){e.MenuEditVisible=!1}}})],1)],1)},n=[],i=(r("2caf"),r("ac4d"),r("8a81"),r("5df3"),r("1c4c"),r("6b54"),r("87b3"),r("6762"),r("2fdb"),r("7f7f"),r("d25f"),r("ac6a"),r("f3e2"),r("96cf"),r("1da1")),o=r("e716"),l={saveSysMenu:function(e){return o["a"].post("/sysm/menuMgr/saveSysMenu",e)},getSysMenu:function(){return o["a"].get("/sysm/menuMgr/getSysMenu")},delSysMenu:function(e){return o["a"].delete("/sysm/menuMgr/delSysMenu/"+e)}},s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",[r("flex-container",{staticClass:"head_botton"},[r("el-button",{attrs:{type:"text",icon:e.isTreeExpand?"icon-ali ali-tuceng":"icon-ali ali-tuceng1",title:e.isTreeExpand?"全部折叠":"全部展开"},on:{click:e.handleExpandSwitch}})],1),r("el-tree",{ref:"devMenuTree",attrs:{data:e.menuTreeData,"node-key":e.menuTreeProps.key,props:e.menuTreeProps,"default-expand-all":e.isTreeExpand,"show-checkbox":""},scopedSlots:e._u([{key:"default",fn:function(t){return r("span",{},[e._v(e._s(e.$t("route."+t.data.name)))])}}])}),r("flex-container",{staticClass:"footer",attrs:{justifyContent:"flex-end"}},[r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateMenuTree}},[e._v("确 定")])],1)],1)},c=[],u=r("7412"),m={props:{initData:{type:Array}},data:function(){return{menuTreeData:[],isTreeExpand:!0,menuTreeProps:{children:"children",label:"name",key:"fullPath"}}},mounted:function(){this.doLoadDevMenu()},methods:{doLoadDevMenu:function(){this.menuTreeData=(new u["a"]).getLazyRouters(),this.$utils.addTreeFullPath(this.menuTreeData,"fullPath","path"),this.$refs["devMenuTree"].setCheckedKeys(this.initData)},handleUpdateMenuTree:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$refs["devMenuTree"],r=t.getCheckedKeys(!0),a=this.$utils.arrayDiff(r,this.initData),n=this.$utils.getTreeKeyChainsByCheckKey(t,a,this.menuTreeProps.key),i={addChildrenNode:n,checkKeys:r},o=this.$utils.arrayDiff(this.initData,r),!(o.length>0)){e.next=15;break}return e.prev=7,e.next=10,this.$confirm("检测到您删除了现有菜单，请确认此操作.","提示信息",{type:"info",confirmButtonText:"确认操作",cancelButtonText:"放弃修改"});case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e["catch"](7),e.abrupt("return");case 15:this.$emit("updataTree",i),this.$emit("close");case 17:case"end":return e.stop()}}),e,this,[[7,12]])})));function t(){return e.apply(this,arguments)}return t}(),handleExpandSwitch:function(){this.isTreeExpand=!this.isTreeExpand,this.$utils.treeExpandSwitch(this.$refs["devMenuTree"],this.isTreeExpand)}}},d=m,p=r("2877"),f=Object(p["a"])(d,s,c,!1,null,null,null),h=f.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",[r("el-form",{ref:"editForm",staticClass:"form-style-line",attrs:{model:e.formData,rules:e.formRules,"label-position":"right","label-width":"90px"}},[r("el-row",{attrs:{span:12}},[r("el-col",[r("el-form-item",{attrs:{label:"目标名称 :",prop:"menuName"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.formData.menuName,callback:function(t){e.$set(e.formData,"menuName",t)},expression:"formData.menuName"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"目标标识 :",prop:"menuKey"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":"",disabled:3!==e.formData.menuType},model:{value:e.formData.menuKey,callback:function(t){e.$set(e.formData,"menuKey",t)},expression:"formData.menuKey"}})],1)],1),"3"!==e.formData.menuType?r("el-col",[r("el-form-item",{attrs:{label:"目标图标 :",prop:"menuIcon"}},[r("el-input",{attrs:{maxlength:"50","show-word-limit":""},model:{value:e.formData.menuIcon,callback:function(t){e.$set(e.formData,"menuIcon",t)},expression:"formData.menuIcon"}})],1)],1):e._e(),r("el-col",[r("el-form-item",{attrs:{label:"目标类型 :",prop:"menuType"}},[r("el-input",{attrs:{value:1===e.formData.menuType?"菜单组":2===e.formData.menuType?"菜单":"按钮",disabled:""}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"目标路径 :",prop:"menuUrl"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.menuUrl,callback:function(t){e.$set(e.formData,"menuUrl",t)},expression:"formData.menuUrl"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"是否可见 :",prop:"menuVisible"}},[r("el-radio-group",{model:{value:e.formData.menuVisible,callback:function(t){e.$set(e.formData,"menuVisible",t)},expression:"formData.menuVisible"}},[r("el-radio",{attrs:{label:"1"}},[e._v("可见")]),r("el-radio",{attrs:{label:"0"}},[e._v("不可见")])],1)],1)],1),r("el-col",["3"!==e.formData.menuType?r("el-form-item",{attrs:{label:"打开方式 :",prop:"menuOpenWay"}},[r("el-input",{attrs:{value:"1"===e.formData.menuOpenWay?"当前窗口":"弹出窗口",disabled:""}})],1):e._e()],1),r("el-col",[r("el-form-item",{attrs:{label:"目标描述 :",prop:"menuDesc"}},[r("el-input",{attrs:{type:"textarea",maxlength:"512","show-word-limit":""},model:{value:e.formData.menuDesc,callback:function(t){e.$set(e.formData,"menuDesc",t)},expression:"formData.menuDesc"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"创建用户 :",prop:"createdUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.createdUser,callback:function(t){e.$set(e.formData,"createdUser",t)},expression:"formData.createdUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"创建时间 :",prop:"createdTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.createdTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新用户 :",prop:"updatedUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.updatedUser,callback:function(t){e.$set(e.formData,"updatedUser",t)},expression:"formData.updatedUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新时间 :",prop:"updatedTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.updatedTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1)],1)],1),r("flex-container",{staticClass:"footer",attrs:{justifyContent:"flex-end"}},[r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateData}},[e._v("确 定")])],1)],1)},b=[],v=(r("a481"),{props:{initData:{type:Object}},data:function(){var e=this,t=function(t,r,a){r||a(new Error("请输入目标标识 !"));var n=e.initData.children.filter((function(e){return r===e.menuKey}));n.length>0&&a(new Error("输入的目标标识重复,请重新确认 !")),a()};return{formData:Object.assign({},this.initData),formRules:{menuName:[{required:!0,message:"请输入目标名称 !",trigger:"change"}],menuKey:[{required:!0,validator:t,trigger:"change"}],menuIcon:[{required:!0,message:"请输入目标图标 !",trigger:"change"}]}}},watch:{"formData.menuKey":{handler:function(e){3===this.formData.menuType&&(this.formData.menuUrl=this.formData.menuParent.replace(/\//g,":").substr(1)+":"+(e||""))},immediate:!0}},methods:{handleUpdateData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$refs["editForm"].validate();case 3:3===this.formData.menuType&&(this.formData.children=[]),this.$emit("updataData",this.formData),this.$emit("close"),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()}}),y=v,x=Object(p["a"])(y,g,b,!1,null,null,null),w=x.exports;function D(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=k(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,n,i=!0,o=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){o=!0,n=e},f:function(){try{i||null==a.return||a.return()}finally{if(o)throw n}}}}function k(e,t){if(e){if("string"===typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var S={uuid:null,menuKey:null,menuName:null,menuParent:null,menuOrde:0,menuType:null,menuIcon:"el-icon-collection-tag",menuUrl:null,menuVisible:"1",menuOpenWay:null,menuDesc:null,createdUser:null,createdTime:0,updatedUser:null,updatedTime:0},C={name:"MenuMgr",components:{MenuAdd:h,MenuEdit:w},data:function(){return{treeLoading:!1,isTreeExpand:!0,isSort:!1,showQuery:!1,queryForm:{menuName:"",menuUrl:"",menuOpenWay:null,updatedTime:[],menuVisible:null},MenuAddVisible:!1,MenuEditVisible:!1,sysMenu:[],sysMenuKeys:[],editSysMenu:{},menuTreeProps:{children:"children",label:"menuName",key:"menuUrl"}}},mounted:function(){this.doLoadTree()},methods:{handleSaveSysMenu:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.treeLoading=!0,this.$utils.addTreeSort(this.sysMenu,"menuOrde"),t=this.$utils.toTreeArray(this.sysMenu),t.forEach((function(e){return delete e.children})),e.next=7,l.saveSysMenu(t);case 7:return e.sent,this.isSort=!1,e.next=11,this.doLoadTree();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),this.$alert("数据提交失败 !");case 16:return e.prev=16,this.treeLoading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[0,13,16,19]])})));function t(){return e.apply(this,arguments)}return t}(),handleQuery:function(){this.$refs["menuTree"].filter(this.queryForm)},handleShowQuery:function(){this.showQuery=!this.showQuery},handleShowMenuAddDia:function(){var e=this,t=this.$utils.filterTree(this.sysMenu,(function(t){var r=t.children?t.children.filter((function(e){return 3==e.menuType})):[];if((!t.children||r.length===t.children.length)&&3!==t.menuType)return t[e.menuTreeProps.key]})),r=[];t.forEach((function(t){return r.push(t[e.menuTreeProps.key])})),this.sysMenuKeys=r,this.MenuAddVisible=!0},handleExpandSwitch:function(){this.isTreeExpand=!this.isTreeExpand,this.$utils.treeExpandSwitch(this.$refs["menuTree"],this.isTreeExpand)},doLoadTree:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.treeLoading=!0,e.next=4,l.getSysMenu();case 4:return t=e.sent,e.next=7,this.$utils.sleep(3e3);case 7:this.sysMenu=this.$utils.toArrayTree(t.data,{key:"menuUrl",parentKey:"menuParent",children:"children",sortKey:"menuOrde"}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),this.$alert("数据加载失败 !");case 13:return e.prev=13,this.treeLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[0,10,13,16]])})));function t(){return e.apply(this,arguments)}return t}(),doUpdataTree:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i,o,s,c,u,m,d,p,f,h,g,b,v,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.addChildrenNode,a=t.checkKeys,e.prev=1,this.treeLoading=!0,n=this.$refs["menuTree"],i=D(r),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=29;break}s=o.value,e.t0=regeneratorRuntime.keys(s.chain);case 10:if((e.t1=e.t0()).done){e.next=27;break}if(c=e.t1.value,u=s.chain[c]["fullPath"],m=0==c?u:s.chain[c-1]["fullPath"],d=n.getNode(m),p=n.getNode(u),f=Object.assign({},S,{menuKey:s.chain[c].path,menuUrl:s.chain[c].fullPath,menuName:this.$t("route."+s.chain[c].name),menuIcon:s.chain[c].icon,menuParent:d?d.data.menuUrl:null,menuType:s.chain[c].children?1:2,menuOpenWay:s.chain[c].httpurl?2:1,createdTime:this.$utils.now(),updatedTime:this.$utils.now(),children:[]}),d){e.next=21;break}return e.next=20,l.saveSysMenu([f]);case 20:n.append(f,d);case 21:if(p||!(c>0)){e.next=25;break}return e.next=24,l.saveSysMenu([f]);case 24:n.append(f,d);case 25:e.next=10;break;case 27:e.next=7;break;case 29:e.next=34;break;case 31:e.prev=31,e.t2=e["catch"](5),i.e(e.t2);case 34:return e.prev=34,i.f(),e.finish(34);case 37:h=this.$utils.arrayDiff(this.sysMenuKeys,a),g=D(h),e.prev=39,g.s();case 41:if((b=g.n()).done){e.next=50;break}if(v=b.value,y=n.getNode(v),!y.data.uuid){e.next=47;break}return e.next=47,l.delSysMenu([y.data.uuid]);case 47:n.remove(v);case 48:e.next=41;break;case 50:e.next=55;break;case 52:e.prev=52,e.t3=e["catch"](39),g.e(e.t3);case 55:return e.prev=55,g.f(),e.finish(55);case 58:return e.next=60,this.doLoadTree();case 60:e.next=65;break;case 62:e.prev=62,e.t4=e["catch"](1),this.$alert("数据更新失败 !");case 65:return e.prev=65,this.treeLoading=!1,e.finish(65);case 68:case"end":return e.stop()}}),e,this,[[1,62,65,68],[5,31,34,37],[39,52,55,58]])})));function t(t){return e.apply(this,arguments)}return t}(),doUpdataData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.treeLoading=!0,r=[t],e.next=5,l.saveSysMenu(r);case 5:return e.next=7,this.doLoadTree();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.$alert("数据更新失败 !");case 12:return e.prev=12,this.treeLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[0,9,12,15]])})));function t(t){return e.apply(this,arguments)}return t}(),doAddButtonNode:function(e,t){this.editSysMenu=Object.assign({},S,{menuParent:t.menuUrl,menuType:3,menuOpenWay:1,menuIcon:"el-icon-coordinate",createdTime:this.$utils.now(),updatedTime:this.$utils.now(),children:t.children}),this.MenuEditVisible=!0},doFilterNode:function(e,t){var r=t.menuName.includes(e.menuName),a=t.menuUrl.includes(e.menuUrl),n=t.menuOpenWay===e.menuOpenWay||!e.menuOpenWay,i=t.menuVisible===e.menuVisible||null===e.menuVisible,o=!0;return e.updatedTime&&2===e.updatedTime.length&&(o=e.updatedTime[0].getTime()<=t.updatedTime&&t.updatedTime<=e.updatedTime[1].getTime()),r&&a&&n&&i&&o},doAllowDropNode:function(e,t,r){var a=e.parent.id===t.parent.id&&"inner"!==r;return a&&(this.isSort=!0),a},doRemoveNode:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.doMessageBox();case 3:if(!r.uuid){e.next=6;break}return e.next=6,l.delSysMenu([r.uuid]);case 6:this.$refs["menuTree"].remove(r[this.menuTreeProps.key]),this.isSort=!0,e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),doEditNode:function(e){this.editSysMenu=e,this.MenuEditVisible=!0},doMessageBox:function(e,t,r){return this.$confirm(e||"确定进行此操作!",t||"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:r||"warning"})},doRenderTreeContent:function(e,t){var r=this,a=t.node,n=t.data,i=(t.store,null),o=[];n.children&&(o=n.children.filter((function(e){return 3==e.menuType}))),o.length===n.children.length&&3!=n.menuType&&(i=e("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-mouse",title:"添加按钮"},on:{click:function(e){r.doAddButtonNode(a,n),e.stopPropagation()}}}));var l=n.menuIcon+(1==n.menuVisible?" icon-color-success":" icon-color-info");return e("flex-container",{attrs:{wrap:"nowrap",alignItems:"center",justifyContent:"space-between"}},[e("flex-item",{attrs:{alignItems:"center"}},[e("span",{class:"margin-right-2"},[e("i",{class:l})]),e("el-tooltip",{attrs:{content:n.menuUrl,placement:"right",effect:1==n.menuOpenWay?"dark":"light"}},[e("span",{class:"icon-size-14"},[a.label])])]),e("flex-item",{attrs:{alignItems:"center"},class:"margin-right-5"},[i,e("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit",title:"编辑"},on:{click:function(e){r.doEditNode(n),e.stopPropagation()}}}),e("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete",title:"删除"},on:{click:function(e){r.doRemoveNode(a,n),e.stopPropagation()}}})])])}}},z=C,F=Object(p["a"])(z,a,n,!1,null,null,null);t["default"]=F.exports},7027:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{staticClass:"tittle-bar",attrs:{height:"30px",alignItems:"center",justifyContent:"space-between"}},[r("flex-item",{staticClass:"tittle-bar-text",attrs:{alignItems:"center"}},[r("span",{staticClass:"tittle-bar-logo"}),r("el-dropdown",{on:{command:e.handleHelpCommand}},[r("span",{staticClass:"pointer"},[e._v("帮助")]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"checkUpdate"}},[e._v("检查更新")]),r("el-dropdown-item",{attrs:{command:"about",divided:""}},[e._v("关于")])],1)],1)],1),r("flex-item",{staticClass:"tittle-bar-icon",attrs:{alignItems:"center"}},[e.showProgress?r("el-progress",{staticClass:"update-progress",attrs:{percentage:e.progressNumber,"stroke-width":3,color:e.progressColor}}):e._e(),e.isDevelopment?r("i",{staticClass:"el-icon-refresh-right",on:{click:e.handleReload}}):e._e(),e.isDevelopment?r("i",{staticClass:"icon-ali ali-gongju1",on:{click:e.handleDevTools}}):e._e(),e.isUpdate?r("i",{staticClass:"el-icon-s-flag icon-color-danger",attrs:{title:"检测到新版本"+e.newVersionInfo.version+"，立即下载!"},on:{click:e.handleNewDownload}}):r("i",{staticClass:"el-icon-s-flag icon-color-success",attrs:{title:"已是最新版本!"}}),r("i",{staticClass:"icon-ali ali-zuixiaohua",on:{click:e.handleMinimize}}),e.maximize?r("i",{staticClass:"icon-ali ali-zuidahua",on:{click:e.handleDefaultSize}}):r("i",{staticClass:"icon-ali ali-zuidahua2",on:{click:e.handleMaximize}}),r("i",{staticClass:"icon-ali ali-guanbi",on:{click:e.handleQuit}})],1),r("el-dialog",{attrs:{title:"关于",visible:e.aboutDiaVisible,width:"30%","show-close":!1},on:{"update:visible":function(t){e.aboutDiaVisible=t}}},[r("span",[e._v(e._s(e.versionInfo.name)+"_"+e._s(e.versionInfo.version))])])],1)},n=[],i=(r("96cf"),r("1da1")),o=r("bdb9"),l={data:function(){return{isInitUpdate:!0,maximize:!1,updataDiaVisible:!1,aboutDiaVisible:!1,showProgress:!1,isUpdate:!1,versionInfo:{},newVersionInfo:{},progressNumber:0,progressColor:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}]}},computed:{isDevelopment:function(){return!1}},created:function(){this.initElectronListener(),this.checkUpdate(!0)},methods:{handleHelpCommand:function(e){"checkUpdate"==e&&this.checkUpdate(),"about"==e&&(this.aboutDiaVisible=!0)},checkUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isInitUpdate=e,this.versionInfo=o["ipcRenderer"].sendSync("main-check-update")},handleNewDownload:function(){o["ipcRenderer"].send("main-new-download")},initElectronListener:function(){var e=this;o["ipcRenderer"].on("renderer-update-progress",(function(t,r){e.showProgress||(e.showProgress=!0),e.progressNumber=e.$utils.toFixedNumber(r.percent,2)})),o["ipcRenderer"].on("win-maximize",(function(){e.maximize=!0})),o["ipcRenderer"].on("win-unmaximize",(function(){e.maximize=!1})),o["ipcRenderer"].on("renderer-update-available",function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.newVersionInfo=a,e.isUpdate=!0,t.next=5,e.$confirm("检测到新版本".concat(a.version,"，是否立即下载?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info",showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1,closeOnHashChange:!1});case 5:e.handleNewDownload(),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()),o["ipcRenderer"].on("renderer-update-error",function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.isInitUpdate){t.next=4;break}return t.next=4,e.$confirm("检查更新失败","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"error",showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1,closeOnHashChange:!1});case 4:t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r){return t.apply(this,arguments)}}()),o["ipcRenderer"].on("renderer-package-downloaded",Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$confirm("更新包下载完成，是否立即重启安装?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success",showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1,closeOnHashChange:!1});case 3:o["ipcRenderer"].send("main-quit-install"),t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])}))))},handleMinimize:function(){o["ipcRenderer"].send("win-minimize")},handleMaximize:function(){o["ipcRenderer"].send("win-maximize"),this.maximize=!0},handleDefaultSize:function(){o["ipcRenderer"].send("win-defaultsize"),this.maximize=!1},handleQuit:function(){o["ipcRenderer"].send("win-quit")},handleReload:function(){o["ipcRenderer"].send("win-reload")},handleDevTools:function(){o["ipcRenderer"].send("win-devtools")}}},s=l,c=r("2877"),u=Object(c["a"])(s,a,n,!1,null,null,null);t["default"]=u.exports},7099:function(e,t,r){},7306:function(e,t,r){"use strict";var a=r("5e11"),n=r.n(a);n.a},7337:function(e,t){e.exports='# <center> TplFormRender 组件说明 </center>\r\n\r\n> 模板表单 JSON 渲染组件，该组件是基于 Element UI 开发的，依赖组件 el-form-item、el-input、el-time-select、el-time-picker、el-date-picker、el-select、el-info-table。\r\n\r\n#### 功能\r\n\r\n- 解析并显示 el-form-item 部分\r\n\r\n#### Use\r\n\r\n```html\r\n<template>\r\n  <el-form :model="previewForm">\r\n      <el-form-tpl-item\r\n        v-for="(item,index) in formJsonArray"\r\n        :key="index"\r\n        :model="item"\r\n        :data=\'previewForm\'\r\n        v-bind="Attributes"\r\n        v-on="Events"\r\n        ...\r\n      >\r\n        \x3c!-- 插槽名称 select --\x3e\r\n        <template slot="select">\r\n          <el-option label="区域一" value="shanghai"></el-option>\r\n          <el-option label="区域二" value="beijing"></el-option>\r\n        </template>\r\n        \x3c!-- 插槽名称 checkbox --\x3e\r\n        <template slot="checkbox">\r\n          <el-checkbox label="线下主题活动" name="type"></el-checkbox>\r\n          <el-checkbox label="单纯品牌曝光" name="type"></el-checkbox>\r\n        </template>\r\n        \x3c!-- 插槽名称 radio --\x3e\r\n        <template slot="radio">\r\n          <el-radio label="线上品牌商赞助"></el-radio>\r\n          <el-radio label="线下场地免费"></el-radio>\r\n        </template>\r\n      </el-form-tpl-item>\r\n  </el-form>\r\n</template>\r\n<script>\r\n  import TemplateformApi from "@/api/templateform";\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        // 页面遮罩\r\n        pageLoading:false\r\n        // 表单对象\r\n        previewForm: {},\r\n        // 模板表单对象\r\n        formJsonArray: []\r\n      };\r\n    },\r\n    created() {\r\n      this.initFormTpl();\r\n    },\r\n    methods: {\r\n      // 初始化模板表单\r\n      async initFormTpl() {\r\n        try {\r\n          // 遮罩开启\r\n          this.pageLoading = true;\r\n          // 请求结构\r\n          let resp = await TemplateformApi.getTplForm({\r\n            // 表单的唯一标识需事先知道\r\n            businessCode: "Announcement-familyData"\r\n          });\r\n          this.formJsonArray = resp.data.fields;\r\n        } catch (error) {\r\n          if (error.code && error.code !== "200") this.$message(error.message);\r\n        } finally {\r\n          this.pageLoading = false;\r\n        }\r\n      }\r\n    }\r\n  };\r\n<\/script>\r\n```\r\n\r\n#### WsFormTplItem.Attributes\r\n\r\n| 参数        | 说明                          | 类型    | 可选值                 | 默认值 |\r\n| :---------- | :---------------------------- | :------ | :--------------------- | :----- |\r\n| model       | 组件渲染模型                  | Object  | ——                     | null   |\r\n| data        | v-model 挂在对象 from--\x3emodel | Object  | ——                     | null   |\r\n| verifyRules | 规则清单                      | Object  | [如下例](#verifyRules) | null   |\r\n| readonly    | 是否进行反显                  | Boolean | ——                     | false  |\r\n| showRules   | 显隐规则清单                  | Object  | [如下例](#showRules)   | null   |\r\n\r\n#### WsFormTplItem.Events\r\n\r\n| 参数   | 说明                   | 类型  |\r\n| :----- | :--------------------- | :---- |\r\n| update | 当前时刻生成的表单结构 | Array |\r\n\r\n<div id=\'verifyRules\'></div>\r\n\r\n##### WsFormTplItem.Attributes.verifyRules\r\n\r\n```javascript\r\nlet verifyRules = {\r\n  name: [\r\n    { required: true, message: "请输入活动名称", trigger: "blur" },\r\n    { min: 3, max: 5, message: "长度在 3 到 5 个字符", trigger: "blur" }\r\n  ],\r\n  region: [{ required: true, message: "请选择活动区域", trigger: "change" }]\r\n};\r\n```\r\n\r\n<div id=\'showRules\'></div>\r\n\r\n##### WsFormTplItem.Attributes.showRules\r\n\r\n```javascript\r\nlet showRules = {\r\n  name: () => {\r\n    return true;\r\n  },\r\n  region: () => {\r\n    return false;\r\n  }\r\n};\r\n```\r\n'},8070:function(e,t,r){"use strict";var a=r("e716");t["a"]={saveSysRole:function(e){return a["a"].post("/usrm/roleMgr/saveSysRole",e)},querySysRole:function(e){return a["a"].get("/usrm/roleMgr/querySysRole",{params:e})},delSysRole:function(e){return a["a"].delete("/usrm/roleMgr/delSysRole/"+e)},getSelectPerm:function(e){return a["a"].get("/usrm/roleMgr/getSelectPerm",{params:e})},getRoleByOrgUuid:function(e){return a["a"].get("/usrm/roleMgr/getRoleByOrgUuid",{params:e})}}},"82b6":function(e,t){e.exports='# <center> DataTable 组件说明 </center>\r\n\r\n> 该组件是基于 Element UI 开发的，所以 el-table、el-table-column、el-pagination 的属性及方法、事件对该组件同样适用。下面列举的是扩展部分。\r\n\r\n#### Use\r\n\r\n```html\r\n<data-table v-bind="Attributes" v-on="Events" ...>\r\n  <data-table-column prop="xxx" label="xxx" ...></data-table-column>\r\n  ...\r\n</data-table>\r\n```\r\n\r\n#### DataTable.Attributes\r\n\r\n| 参数         | 说明                                                     | 类型     | 可选值                   | 默认值                 |\r\n| :----------- | :------------------------------------------------------- | :------- | :----------------------- | :--------------------- |\r\n| pageOptions  | 分页参数                                                 | Object   | el-pagination.Attributes | [如下例](#pageOptions) |\r\n| csvOptions   | csv 参数                                                 | Object   | ——                       | [如下例](#csvOptions)  |\r\n| loadDataFunc | 接收列表数据查询方法 ,[如下例](#loadDataFunc)            | Function | ——                       | null                   |\r\n| title        | 表格标题                                                 | String   | ——                       | "Data Table"           |\r\n| loadDataFunc | 接收列表数据查询方法                                     | Function | ——                       | null                   |\r\n| index        | 是否开启索引列，该索引列是基于记录总数非基于列表显示总数 | Boolean  | ——                       | false                  |\r\n| columnButton | 是否开启动态列显示                                       | Boolean  | ——                       | true                   |\r\n| csvButton    | 是否开启 CSV 下载                                        | Boolean  | ——                       | true                   |\r\n| autoLoad     | 初始加载表格                                             | Boolean  | ——                       | false                  |\r\n| autoUpdate   | 是否显示自动刷新                                         | Boolean  | ——                       | false                  |\r\n| interval     | 自动刷新间隔(s)                                          | Number   | ——                       | 5000                   |\r\n| runTimer     | 定时器开关                                               | Boolean  | ——                       | false                  |\r\n\r\n<div id=\'pageOptions\'></div>\r\n\r\n##### DataTable.Attributes.pageOptions\r\n\r\n```javascript\r\n{\r\n  //总条目数\r\n  total: 0,\r\n  //页码按钮的数量，当总页数超过该值时会折叠\r\n  pagerCount: 7,\r\n  //组件布局，子组件名用逗号分隔\r\n  layout: "prev, pager, next,total,sizes",\r\n  //是否为分页按钮添加背景色\r\n  background: false,\r\n  //只有一页时是否隐藏\r\n  hideOnSinglePage: true,\r\n  //每页显示条目个数\r\n  pageSize: 10,\r\n  //当前页数\r\n  currentPage: 1,\r\n  //每页显示个数选择器的选项设置\r\n  pageSizes: [10, 20, 40, 60, 100],\r\n  //是否禁用\r\n  disabled: false\r\n}\r\n```\r\n\r\n<div id=\'csvOptions\'></div>\r\n\r\n##### DataTable.Attributes.csvOptions\r\n\r\n```javascript\r\n{\r\n  //文件名\r\n  filename: "table.csv",\r\n  //是否导出源数据\r\n  original: false,\r\n  //是否显示表头\r\n  isHeader: true,\r\n  //是否马上下载，如果设置为 false 则通过返回结果为内容的 Promise\r\n  download: true,\r\n  //自定义数据\r\n  data: null,\r\n  //自定义列\r\n  columns: null,\r\n  //列过滤方法，该函数 Function(row,index,list) 的返回值用来决定该列是否导出\r\n  columnFilterMethod: column =>\r\n    ["index", "selection", "expand"].indexOf(column.type) === -1 &&\r\n    column.property,\r\n  //数据过滤方法，该函数 Function(row,index,list) 的返回值用来决定该数据是否导出\r\n  dataFilterMethod: (row, index, list) => {\r\n    return true;\r\n  }\r\n}\r\n```\r\n\r\n<div id =\'loadDataFunc\'></div>\r\n\r\n##### DataTable.Attributes.loadDataFunc\r\n\r\n```javascript\r\nloadData: function(params) {\r\n  return ajax.get("/sys/datatable", { params: params });\r\n}\r\n```\r\n\r\n#### DataTable.Methods\r\n\r\n| 方法名    | 说明                     | 参数                                    |\r\n| :-------- | :----------------------- | :-------------------------------------- |\r\n| loadData  | 表格数据加载方法，如下例 | Object [查询参数]                       |\r\n| doLock    | 开启表格遮罩             | ——                                      |\r\n| doUnlock  | 关闭表格遮罩             | ——                                      |\r\n| exportCsv | 导出 CSV 文件            | Object [[csvOptions 对象](#csvOptions)] |\r\n'},"875a":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{staticClass:"cron-tab-page",attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",[r("el-alert",{staticClass:"margin-bottom-10",attrs:{title:"数据分页表格组件",type:"success",closable:!1,description:"这是一个数据分页表格组件，配合定制的后台可配置出复杂的使用场景，使用简单。"}})],1),r("flex-item",[r("el-card",{attrs:{shadow:"hover"}},[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[e._v("数据表格")]),r("flex-item",[r("el-button",{attrs:{type:"primary",plain:""},on:{click:e.handleQuery}},[e._v("查询")])],1)],1),r("data-table",{ref:"thetable",attrs:{border:"",index:"","auto-load":"","auto-update":"","column-button":"","csv-button":"",title:"Data Table","load-data-func":e.loadData}},[r("data-table-column",{attrs:{prop:"id",label:"ID","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"name",label:"姓名","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",[e._v(e._s(t.row.name))])]}}])}),r("data-table-column",{attrs:{prop:"email",label:"Email","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"address",label:"地址","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"date",label:"日期","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":""}})],1)],1)],1),r("flex-item",[r("markdown-editor",{staticClass:"margin-top-20",attrs:{view:""},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1)},n=[],i=r("e716"),o=r("82b6"),l=r.n(o),s={name:"DataTablePage",data:function(){return{content:l.a,loadData:function(e){return console.log("数据表格请求参数:"),console.log(e),i["a"].get("/sys/queryDataTable",{params:e})}}},methods:{handleQuery:function(){this.$refs["thetable"].loadData({a:1,b:2,c:[{}]}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}}},c=s,u=r("2877"),m=Object(u["a"])(c,a,n,!1,null,null,null);t["default"]=m.exports},"8b0b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{attrs:{wrap:"nowrap",justifyContent:"space-between"}},[r("flex-item",{attrs:{grow:1,width:"100%"}},[r("el-card",[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[r("i",{staticClass:"el-icon-watch margin-right-6 font-size-16"}),e._v("任务日志 ")]),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-search",title:"查询"},on:{click:e.handleQueryLogQuartz}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-refresh-left",title:"重置"},on:{click:function(t){e.$refs["logQuartzForm"].resetFields(),e.startTime=[]}}})],1)],1),r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",{staticClass:"margin-bottom-10"},[r("el-form",{ref:"logQuartzForm",staticClass:"form-style-line",attrs:{model:e.logQuartzForm,"label-position":"right","label-width":"90px"}},[r("el-row",[r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"任务名称 :",prop:"qtzName"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.logQuartzForm.qtzName,callback:function(t){e.$set(e.logQuartzForm,"qtzName",t)},expression:"logQuartzForm.qtzName"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"任务组 :",prop:"qtzGroup"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.logQuartzForm.qtzGroup,callback:function(t){e.$set(e.logQuartzForm,"qtzGroup",t)},expression:"logQuartzForm.qtzGroup"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"日志等级 :",prop:"logLeve"}},[r("dict-select",{attrs:{"dict-key":"LogLeve",placeholder:"请选择",clearable:""},model:{value:e.logQuartzForm.logLeve,callback:function(t){e.$set(e.logQuartzForm,"logLeve",t)},expression:"logQuartzForm.logLeve"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"服务器名称 :",prop:"svrName"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.logQuartzForm.svrName,callback:function(t){e.$set(e.logQuartzForm,"svrName",t)},expression:"logQuartzForm.svrName"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"服务器地址 :",prop:"svrAddr"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.logQuartzForm.svrAddr,callback:function(t){e.$set(e.logQuartzForm,"svrAddr",t)},expression:"logQuartzForm.svrAddr"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:6}},[r("el-form-item",{attrs:{label:"开始时间 :",prop:"startTime"}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1)],1)],1)],1)],1),r("flex-item",[r("data-table",{ref:"logQuartzTable",attrs:{border:"",index:"","auto-load":"","highlight-current-row":"","auto-update":"","column-button":"","csv-button":"",title:"Data Table","load-data-func":e.loadLogQuartz,"row-class-name":e.doRowClassName}},[r("data-table-column",{attrs:{prop:"qtzName",label:"任务名称","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"qtzGroup",label:"任务组","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"logLeve",label:"日志等级",width:"80",formatter:function(t){return e.$utils.tableColDictFormt("LogLeve",t.logLeve)}}}),r("data-table-column",{attrs:{prop:"svrName",label:"服务器名称","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"svrAddr",label:"服务器地址",width:"120"}}),r("data-table-column",{attrs:{prop:"startTime",label:"开始时间",width:"140",formatter:e.$utils.tableColTimeFormt}}),r("data-table-column",{attrs:{prop:"procTime",label:"耗时(μs)",width:"75"}}),r("data-table-column",{attrs:{prop:"op",label:"操作",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-more",title:"查看"},on:{click:function(r){return e.handleEyeLogQuartz(t.row)}}})]}}])})],1)],1)],1)],1)],1),r("dialog-drag",{attrs:{title:"任务编辑",visible:e.showLogQuartzDia},on:{"update:visible":function(t){e.showLogQuartzDia=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-edit margin-right-4"}),e._v("任务日志详情 ")]),r("quartz-log-eye",{attrs:{initData:e.logquartz},on:{close:function(t){e.showLogQuartzDia=!1}}})],1)],1)},n=[],i=r("e716"),o={queryLogQuartz:function(e){return i["a"].get("/logs/quartzMgr/queryLogQuartz",{params:e})}},l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",[r("el-form",{ref:"editForm",staticClass:"form-style-line",attrs:{"label-position":"right","label-width":"90px",disabled:""}},[r("el-row",{attrs:{span:12}},[r("el-col",[r("el-form-item",{attrs:{label:"任务名称 :",prop:"qtzName"}},[r("el-input",{attrs:{value:e.initData.qtzName}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"任务组 :",prop:"qtzGroup"}},[r("el-input",{attrs:{value:e.initData.qtzGroup}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"日志等级 :",prop:"logLeve"}},[r("dict-select",{attrs:{value:e.initData.logLeve,"dict-key":"LogLeve"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"服务器名称 :",prop:"svrName"}},[r("el-input",{attrs:{value:e.initData.svrName}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"服务器地址 :",prop:"svrAddr"}},[r("el-input",{attrs:{value:e.initData.svrAddr}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"开始时间 :",prop:"startTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.initData.startTime,"yyyy-MM-dd HH:mm:ss")}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"耗时(ms) :",prop:"procTime"}},[r("el-input",{attrs:{value:e.initData.procTime}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"异常信息 :",prop:"execInfo"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:6},value:e.initData.execInfo}})],1)],1)],1)],1)],1)},s=[],c={props:{initData:{type:Object}}},u=c,m=r("2877"),d=Object(m["a"])(u,l,s,!1,null,null,null),p=d.exports,f={components:{QuartzLogEye:p},data:function(){return{showLogQuartzDia:!1,logQuartzForm:{qtzName:"",qtzGroup:"",logLeve:"",svrName:"",svrAddr:""},logquartz:{},startTime:[]}},methods:{doRowClassName:function(e){var t=e.row;e.rowIndex;return t.execInfo?"error-row":"success-row"},loadLogQuartz:function(e){return o.queryLogQuartz(e)},handleQueryLogQuartz:function(){var e=Object.assign({},this.logQuartzForm);this.startTime&&2===this.startTime.length&&Object.assign(e,{startTimeStart:this.startTime[0].getTime(),startTimeEnd:this.startTime[1].getTime()}),this.$refs["logQuartzTable"].loadData(e,!0)},handleEyeLogQuartz:function(e){this.logquartz=Object.assign({},e),this.showLogQuartzDia=!0}}},h=f,g=(r("b043"),Object(m["a"])(h,a,n,!1,null,"08daf6f8",null));t["default"]=g.exports},"8c0d":function(e,t,r){"use strict";var a=r("aa9b"),n=r.n(a);n.a},"8c20":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",{directives:[{name:"show",rawName:"v-show",value:e.showQuery,expression:"showQuery"}],staticClass:"margin-bottom-10"},[r("el-card",[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[r("i",{staticClass:"el-icon-s-operation margin-right-6 font-size-16"}),e._v("查询参数\n        ")]),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-search",title:"查询"},on:{click:e.handleQuery}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-refresh-left",title:"重置"},on:{click:function(t){return e.$refs["queryForm"].resetFields()}}})],1)],1),r("el-form",{ref:"queryForm",staticClass:"form-style-line",attrs:{model:e.queryForm,"label-position":"right","label-width":"80px"}},[r("el-row",[r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:8}},[r("el-form-item",{attrs:{label:"组织名称 :",prop:"orgName"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.queryForm.orgName,callback:function(t){e.$set(e.queryForm,"orgName",t)},expression:"queryForm.orgName"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:8}},[r("el-form-item",{attrs:{label:"组织简称 :",prop:"orgBrfName"}},[r("el-input",{attrs:{maxlength:"50","show-word-limit":""},model:{value:e.queryForm.orgBrfName,callback:function(t){e.$set(e.queryForm,"orgBrfName",t)},expression:"queryForm.orgBrfName"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:8}},[r("el-form-item",{attrs:{label:"组织状态 :",prop:"orgStat"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryForm.orgStat,callback:function(t){e.$set(e.queryForm,"orgStat",t)},expression:"queryForm.orgStat"}},[r("el-option",{attrs:{label:"正常",value:"1"}}),r("el-option",{attrs:{label:"禁用",value:"2"}}),r("el-option",{attrs:{label:"注销",value:"3"}})],1)],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:8}},[r("el-form-item",{attrs:{label:"更新时间 :",prop:"updatedTime"}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.queryForm.updatedTime,callback:function(t){e.$set(e.queryForm,"updatedTime",t)},expression:"queryForm.updatedTime"}})],1)],1)],1)],1)],1)],1),r("flex-item",{attrs:{grow:1}},[r("el-card",[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[r("i",{staticClass:"icon-fa fa-sitemap margin-right-6 font-size-16"}),r("span",{staticClass:"margin-right-4"},[e._v("系统组织")]),e.isSort&&e.sysOrg.children&&e.sysOrg.sysOrg.length>0?r("el-tooltip",{attrs:{content:"排序已修改,请保存 !",placement:"right"}},[r("i",{staticClass:"el-icon-warning icon-color-danger"})]):e._e()],1),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{loading:e.treeLoading,size:"mini",circle:"",icon:"icon-ali ali-gongju-",title:"排序整理"},on:{click:e.handleSaveSysOrg}}),r("el-button",{attrs:{loading:e.treeLoading,size:"mini",circle:"",icon:"el-icon-refresh",title:"刷新"},on:{click:e.doLoadTree}}),r("el-button",{attrs:{loading:e.treeLoading,size:"mini",plain:"",circle:"",icon:e.isTreeExpand?"icon-ali ali-tuceng":"icon-ali ali-tuceng1",title:e.isTreeExpand?"全部折叠":"全部展开"},on:{click:e.handleExpandSwitch}}),r("el-button",{attrs:{loading:e.treeLoading,size:"mini",plain:"",circle:"",icon:e.showQuery?"el-icon-caret-bottom":"el-icon-caret-top",title:e.showQuery?"隐藏查询面板":"显示查询面板"},on:{click:e.handleShowQuery}})],1)],1),r("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"orgTree",attrs:{data:e.sysOrg,"node-key":e.orgTreeProps.key,props:e.orgTreeProps,"default-expand-all":"",draggable:"","allow-drop":e.doAllowDropNode,"render-content":e.doRenderTreeContent,"filter-node-method":e.doFilterNode}})],1)],1),r("dialog-drag",{attrs:{title:"编辑数据",visible:e.OrgEditVisible},on:{"update:visible":function(t){e.OrgEditVisible=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-edit margin-right-4"}),e._v("编辑数据\n    ")]),r("org-edit",{attrs:{initData:e.editSysOrg},on:{updataData:e.doUpdataData,close:function(t){e.OrgEditVisible=!1}}})],1)],1)},n=[],i=(r("6762"),r("2fdb"),r("d25f"),r("ac6a"),r("f3e2"),r("96cf"),r("1da1")),o=r("53ab"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",[r("el-form",{ref:"editForm",staticClass:"form-style-line",attrs:{model:e.formData,rules:e.formRules,"label-position":"right","label-width":"90px"}},[r("el-row",{attrs:{span:12}},[r("el-col",[r("el-form-item",{attrs:{label:"组织名称 :",prop:"orgName"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.formData.orgName,callback:function(t){e.$set(e.formData,"orgName",t)},expression:"formData.orgName"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"唯一编号 :",prop:"orgCode"}},[r("el-input",{attrs:{maxlength:"50","show-word-limit":""},model:{value:e.formData.orgCode,callback:function(t){e.$set(e.formData,"orgCode",t)},expression:"formData.orgCode"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"组织简称 :",prop:"orgBrfName"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.formData.orgBrfName,callback:function(t){e.$set(e.formData,"orgBrfName",t)},expression:"formData.orgBrfName"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"负责人 :",prop:"orgMast"}},[r("el-input",{model:{value:e.formData.orgMast,callback:function(t){e.$set(e.formData,"orgMast",t)},expression:"formData.orgMast"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"组织地址 :",prop:"orgAddr"}},[r("el-input",{model:{value:e.formData.orgAddr,callback:function(t){e.$set(e.formData,"orgAddr",t)},expression:"formData.orgAddr"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"组织邮编 :",prop:"orgPost"}},[r("el-input",{model:{value:e.formData.orgPost,callback:function(t){e.$set(e.formData,"orgPost",t)},expression:"formData.orgPost"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"组织电话 :",prop:"orgPhone"}},[r("el-input",{model:{value:e.formData.orgPhone,callback:function(t){e.$set(e.formData,"orgPhone",t)},expression:"formData.orgPhone"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"组织状态 :",prop:"orgStat"}},[r("el-radio-group",{model:{value:e.formData.orgStat,callback:function(t){e.$set(e.formData,"orgStat",t)},expression:"formData.orgStat"}},[r("el-radio",{attrs:{label:"1"}},[e._v("正常")]),r("el-radio",{attrs:{label:"2"}},[e._v("禁用")]),r("el-radio",{attrs:{label:"3"}},[e._v("注销")])],1)],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"组织描述 :",prop:"orgDesc"}},[r("el-input",{attrs:{type:"textarea",maxlength:"512","show-word-limit":""},model:{value:e.formData.orgDesc,callback:function(t){e.$set(e.formData,"orgDesc",t)},expression:"formData.orgDesc"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"创建用户 :",prop:"createdUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.createdUser,callback:function(t){e.$set(e.formData,"createdUser",t)},expression:"formData.createdUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"创建时间 :",prop:"createdTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.createdTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新用户 :",prop:"updatedUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.updatedUser,callback:function(t){e.$set(e.formData,"updatedUser",t)},expression:"formData.updatedUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新时间 :",prop:"updatedTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.updatedTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1)],1)],1),r("flex-container",{staticClass:"footer",attrs:{justifyContent:"flex-end"}},[r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateData}},[e._v("确 定")])],1)],1)},s=[],c={props:{initData:{type:Object}},data:function(){return{formData:Object.assign({},this.initData),formRules:{orgName:[{required:!0,message:"请输入组织名称 !",trigger:"change"}],orgCode:[{required:!0,message:"请输入唯一编号 !",trigger:"change"}]}}},methods:{handleUpdateData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$refs["editForm"].validate();case 3:this.$emit("updataData",this.formData),this.$emit("close"),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}},u=c,m=r("2877"),d=Object(m["a"])(u,l,s,!1,null,null,null),p=d.exports,f={uuid:null,orgCode:"",orgPare:"",orgName:"",orgBrfName:"",orgDesc:"",orgMast:"",orgAddr:"",orgPost:"",orgPhone:"",orgStat:"1",orgOrde:0,createdUser:null,createdTime:0,updatedUser:null,updatedTime:0},h="ROOT",g={name:"OrgMgr",components:{OrgEdit:p},data:function(){return{treeLoading:!1,isTreeExpand:!0,isSort:!1,showQuery:!1,queryForm:{orgName:"",orgBrfName:"",orgStat:"",updatedTime:[]},OrgAddVisible:!1,OrgEditVisible:!1,sysOrg:[],sysOrgKeys:[],editSysOrg:{},orgTreeProps:{children:"children",label:"orgName",key:"orgCode"}}},mounted:function(){this.doLoadTree()},methods:{handleSaveSysOrg:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,0!==this.sysOrg[0].children.length){e.next=3;break}return e.abrupt("return");case 3:return this.treeLoading=!0,this.$utils.addTreeSort(this.sysOrg[0].children,"orgOrde"),t=this.$utils.toTreeArray(this.sysOrg[0].children),t.forEach((function(e){return delete e.children})),e.next=9,o["a"].saveSysOrg(t);case 9:return e.sent,this.isSort=!1,e.next=13,this.doLoadTree();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),this.$alert("数据提交失败 !");case 18:return e.prev=18,this.treeLoading=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[0,15,18,21]])})));function t(){return e.apply(this,arguments)}return t}(),handleQuery:function(){this.$refs["orgTree"].filter(this.queryForm)},handleShowQuery:function(){this.showQuery=!this.showQuery},handleExpandSwitch:function(){this.isTreeExpand=!this.isTreeExpand,this.$utils.treeExpandSwitch(this.$refs["orgTree"],this.isTreeExpand)},doLoadTree:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.treeLoading=!0,e.next=4,o["a"].getSysOrg();case 4:return t=e.sent,e.next=7,this.$utils.sleep(3e3);case 7:r=this.$utils.toArrayTree(t.data,{key:"orgCode",parentKey:"orgPare",children:"children",sortKey:"orgOrde"}),this.sysOrg=[{orgName:"组织机构树",orgBrfName:h,orgCode:h,children:r}],e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.$alert("数据加载失败 !");case 14:return e.prev=14,this.treeLoading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[0,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}(),doUpdataData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.treeLoading=!0,r=[t],this.editSysOrg.orgStat!==t.orgStat&&"1"!==t.orgStat&&(a=this.$refs["orgTree"].getNode(t.orgCode),this.$utils.eachTree(a.data.children,(function(e){e.orgStat=t.orgStat,r.push(e)}))),e.next=6,o["a"].saveSysOrg(r);case 6:return e.next=8,this.doLoadTree();case 8:e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:return e.prev=12,this.treeLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[0,10,12,15]])})));function t(t){return e.apply(this,arguments)}return t}(),doAddButtonNode:function(e,t){this.editSysOrg=Object.assign({},f,{orgPare:t.orgCode,createdTime:this.$utils.now(),updatedTime:this.$utils.now()}),this.OrgEditVisible=!0},doFilterNode:function(e,t){if(t.orgCode===h)return!0;var r=t.orgName.includes(e.orgName),a=t.orgBrfName.includes(e.orgBrfName),n=t.orgStat.includes(e.orgStat),i=!0;return e.updatedTime&&2===e.updatedTime.length&&(i=e.updatedTime[0].getTime()<=t.updatedTime&&t.updatedTime<=e.updatedTime[1].getTime()),r&&a&&n&&i},doAllowDropNode:function(e,t,r){var a=e.parent.id===t.parent.id&&"inner"!==r;return a&&(this.isSort=!0),a},doRemoveNode:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.doMessageBox();case 3:if(!r.uuid){e.next=6;break}return e.next=6,o["a"].delSysOrg([r.uuid]);case 6:this.$refs["orgTree"].remove(r[this.orgTreeProps.key]),this.isSort=!0,e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),doEditNode:function(e){this.editSysOrg=e,this.OrgEditVisible=!0},doMessageBox:function(e,t,r){return this.$confirm(e||"确定进行此操作!",t||"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:r||"warning"})},doRenderTreeContent:function(e,t){var r=this,a=t.node,n=t.data,i=(t.store,[]),o=e("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-plus",title:"添加按钮"},on:{click:function(e){r.doAddButtonNode(a,n),e.stopPropagation()}}}),l=e("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit",title:"编辑"},on:{click:function(e){r.doEditNode(n),e.stopPropagation()}}}),s=e("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete",title:"删除"},on:{click:function(e){r.doRemoveNode(a,n),e.stopPropagation()}}});n.children&&n.orgCode===h?i.push(o):n.children&&n.orgCode!==h&&(i.push(o),i.push(l),i.push(s));var c="icon-size-14";return 1!=n.orgStat&&n.orgCode!==h&&(c+=" icon-color-danger"),1==n.orgStat&&n.orgCode!==h&&(c+=" icon-color-info"),n.orgCode===h&&(c+=" icon-color-primary"),e("flex-container",{attrs:{wrap:"nowrap",alignItems:"center",justifyContent:"space-between"}},[e("flex-item",{attrs:{alignItems:"center"}},[e("el-tooltip",{attrs:{content:n.orgCode,placement:"right"}},[e("span",{class:c},[a.label])])]),e("flex-item",{attrs:{alignItems:"center"},class:"margin-right-5"},[i])])}}},b=g,v=Object(m["a"])(b,a,n,!1,null,null,null);t["default"]=v.exports},9009:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{staticClass:"cron-tab-page",attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",[r("el-alert",{staticClass:"margin-bottom-10",attrs:{title:"Json编辑器",type:"success",closable:!1,description:"这是一个基于CodeMirror的Json编辑器"}})],1),r("flex-container",{staticClass:"margin-bottom-10"},[r("flex-item",{attrs:{width:"100%"}},[r("json-editor",{ref:"jsonEditor",model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)],1)},n=[],i=r("357c"),o='[{"items":[{"market_type":"forexdata","symbol":"XAUUSD"},{"market_type":"forexdata","symbol":"UKOIL"},{"market_type":"forexdata","symbol":"CORN"}],"name":""},{"items":[{"market_type":"forexdata","symbol":"XAUUSD"},{"market_type":"forexdata","symbol":"XAGUSD"},{"market_type":"forexdata","symbol":"AUTD"},{"market_type":"forexdata","symbol":"AGTD"}],"name":"贵金属"},{"items":[{"market_type":"forexdata","symbol":"CORN"},{"market_type":"forexdata","symbol":"WHEAT"},{"market_type":"forexdata","symbol":"SOYBEAN"},{"market_type":"forexdata","symbol":"SUGAR"}],"name":"农产品"},{"items":[{"market_type":"forexdata","symbol":"UKOIL"},{"market_type":"forexdata","symbol":"USOIL"},{"market_type":"forexdata","symbol":"NGAS"}],"name":"能源化工"}]',l={components:{JsonEditor:i["default"]},data:function(){return{value:JSON.parse(o)}}},s=l,c=r("2877"),u=Object(c["a"])(s,a,n,!1,null,null,null);t["default"]=u.exports},9224:function(e){e.exports=JSON.parse('{"name":"electron-vue-sunrise","description":"electron-vue-sunrise","author":"sunrise","version":"0.0.1","private":true,"scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","site":"node build/expressServe.js","lint":"vue-cli-service lint","inspect":"vue-cli-service inspect","electron:clean":"node build/cleanElectronDist.js","electron:build":"npm run electron:clean && vue-cli-service electron:build","electron:build:linux":"npm run electron:clean && vue-cli-service electron:build --linux","electron:serve":"vue-cli-service electron:serve","update:icon":"node build/updateIcon.js"},"main":"background.js","iconfontId":"font_747224_3l2tykv4q46","dependencies":{"axios":"^0.18.0","clipboard-copy":"^3.1.0","codemirror":"^5.48.0","core-js":"^2.6.5","crypto-js":"^4.0.0","driver.js":"^0.9.7","echarts":"^4.2.1","electron-updater":"^4.2.5","element-ui":"^2.13.0","font-awesome":"^4.7.0","js-cookie":"^2.2.0","jsonlint":"^1.6.3","localforage":"^1.7.2","mavon-editor":"^2.7.4","md5":"^2.2.1","sortablejs":"^1.10.2","v-charts":"^1.19.0","vue":"^2.6.10","vue-count-to":"^1.0.13","vue-filter":"^0.2.5","vue-i18n":"^8.0.0","vue-progressbar":"^0.7.5","vue-router":"^3.0.3","vue2-animate":"^2.0.0","vuex":"^3.0.1","vuex-persistedstate":"^2.5.4","xe-utils":"^1.8.24"},"devDependencies":{"@vue/cli-plugin-babel":"^3.9.0","@vue/cli-plugin-eslint":"^3.9.0","@vue/cli-service":"^3.9.0","@vue/eslint-config-prettier":"^4.0.1","babel-eslint":"^10.0.1","connect-history-api-fallback":"^1.6.0","cross-env":"^5.2.0","electron":"7.2.4","eslint":"^5.16.0","eslint-plugin-vue":"^5.0.0","express":"^4.17.1","file-loader":"^4.0.0","iconv-lite":"^0.5.0","image-webpack-loader":"^5.0.0","mockjs":"^1.0.1-beta3","node-sass":"^4.12.0","postcss-import":"^12.0.1","postcss-url":"^8.0.0","sass-loader":"^7.1.0","script-loader":"^0.7.2","text-loader":"0.0.1","vue-cli-plugin-electron-builder":"^1.3.6","vue-html-loader":"^1.2.4","vue-template-compiler":"^2.6.10","webpack-bundle-analyzer":"^3.3.2"}}')},9951:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",[r("flex-item",{attrs:{grow:1,width:"100%"}},[r("el-card",[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[r("i",{staticClass:"el-icon-alarm-clock margin-right-6 font-size-16"}),e._v("任务管理 ")]),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-plus",title:"添加"},on:{click:e.handleAddQuartz}}),r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-search",title:"查询"},on:{click:e.handleQueryQuartz}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-refresh-left",title:"重置"},on:{click:function(t){return e.$refs["quartzForm"].resetFields()}}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-video-play",disabled:!e.tableMultipleSelection.length>0,title:"批量启用"},on:{click:e.handleResumeJobs}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-video-pause",disabled:!e.tableMultipleSelection.length>0,title:"批量暂停"},on:{click:e.handlePauseJobs}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-delete",disabled:!e.tableMultipleSelection.length>0,title:"批量删除"},on:{click:e.handleDelJobs}})],1)],1),r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",{staticClass:"margin-bottom-10"},[r("el-form",{ref:"quartzForm",staticClass:"form-style-line",attrs:{model:e.quartzForm,"label-position":"right","label-width":"80px"}},[r("el-row",[r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"任务名称",prop:"quartzName"}},[r("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:e.quartzForm.quartzName,callback:function(t){e.$set(e.quartzForm,"quartzName",t)},expression:"quartzForm.quartzName"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"任务组",prop:"quartzGroup"}},[r("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:e.quartzForm.quartzGroup,callback:function(t){e.$set(e.quartzForm,"quartzGroup",t)},expression:"quartzForm.quartzGroup"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"执行状态",prop:"quartzStat"}},[r("dict-select",{attrs:{"dict-key":"QuartzRunStat",placeholder:"请选择",clearable:""},model:{value:e.quartzForm.quartzStat,callback:function(t){e.$set(e.quartzForm,"quartzStat",t)},expression:"quartzForm.quartzStat"}})],1)],1)],1)],1)],1),r("flex-item",[r("data-table",{ref:"quartzTable",attrs:{border:"",index:"","auto-load":"","highlight-current-row":"","auto-update":"","column-button":"","csv-button":"",title:"Data Table","load-data-func":e.loadQuartz},on:{"selection-change":e.handleSelectionChange}},[r("data-table-column",{attrs:{prop:"selection",type:"selection",align:"center",width:"50",fixed:"left"}}),r("data-table-column",{attrs:{prop:"quartzName",label:"任务名称","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"quartzGroup",label:"任务组","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"quartzStat",label:"执行状态","show-overflow-tooltip":"",formatter:function(t){return e.$utils.tableColDictFormt("QuartzRunStat",t.quartzStat)}}}),r("data-table-column",{attrs:{prop:"quartzClass",label:"执行类路径","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"quartzCron",label:"Cron表达式",width:"90",align:"center"}}),r("data-table-column",{attrs:{prop:"quartzDesc",label:"任务描述","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"op",label:"操作",fixed:"right",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",disabled:"1"===t.row.quartzStat,icon:"el-icon-edit",title:"编辑"},on:{click:function(r){return e.handleEditQuartz(t.row)}}}),r("el-button",{attrs:{type:"text",disabled:"1"===t.row.quartzStat,icon:"el-icon-delete",title:"删除"},on:{click:function(r){return e.handleDelJob(t.row)}}}),r("el-button",{attrs:{type:"text",disabled:"1"===t.row.quartzStat,icon:"el-icon-video-play",title:"启用"},on:{click:function(r){return e.handleResumeJob(t.row)}}}),r("el-button",{attrs:{type:"text",disabled:"2"===t.row.quartzStat,icon:"el-icon-video-pause",title:"暂停"},on:{click:function(r){return e.handlePauseJob(t.row)}}}),r("el-button",{attrs:{type:"text",icon:"el-icon-more",title:"详情"},on:{click:function(r){return e.handleViewJob(t.row)}}})]}}])})],1)],1)],1)],1)],1),r("dialog-drag",{attrs:{visible:e.showQuartzDia,top:"8vh"},on:{"update:visible":function(t){e.showQuartzDia=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-edit margin-right-4"}),e._v(e._s(e.quartzEditReadonly?"任务详情":"任务编辑")+" ")]),r("quartz-mgr-edit",{attrs:{readonly:e.quartzEditReadonly,initData:e.editQuartz},on:{updataData:e.doUpdataQuartz,close:function(t){e.showQuartzDia=!1}}})],1)],1)},n=[],i=(r("ac6a"),r("f3e2"),r("96cf"),r("1da1")),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"elemeur-loading-text":"正在读取数据..."}},[r("el-form",{ref:"editForm",staticClass:"form-style-line",attrs:{model:e.formData,rules:e.formRules,"label-position":"right","label-width":"100px"}},[r("el-row",[r("el-col",[r("el-form-item",{attrs:{label:"任务名称",prop:"quartzName"}},[r("el-input",{attrs:{maxlength:"40","show-word-limit":"",disabled:e.readonly},model:{value:e.formData.quartzName,callback:function(t){e.$set(e.formData,"quartzName",t)},expression:"formData.quartzName"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"任务组",prop:"quartzGroup"}},[r("el-input",{attrs:{maxlength:"40","show-word-limit":"",disabled:e.readonly},model:{value:e.formData.quartzGroup,callback:function(t){e.$set(e.formData,"quartzGroup",t)},expression:"formData.quartzGroup"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"执行类",prop:"quartzClass"}},[r("el-select",{attrs:{disabled:e.readonly},model:{value:e.formData.quartzClass,callback:function(t){e.$set(e.formData,"quartzClass",t)},expression:"formData.quartzClass"}},e._l(e.jobClass,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})})),1)],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"Cron表达式",prop:"quartzCron"}},[r("cron-tab",{attrs:{disabled:e.readonly},model:{value:e.formData.quartzCron,callback:function(t){e.$set(e.formData,"quartzCron",t)},expression:"formData.quartzCron"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"初始参数",prop:"quartzParams"}},[r("el-input",{attrs:{maxlength:"20","show-word-limit":"",disabled:e.readonly},model:{value:e.formData.quartzParams,callback:function(t){e.$set(e.formData,"quartzParams",t)},expression:"formData.quartzParams"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"执行策略",prop:"quartzMisfire"}},[r("dict-select",{attrs:{"dict-key":"QuartzMisfire",placeholder:"请选择",clearable:"",disabled:e.readonly},model:{value:e.formData.quartzMisfire,callback:function(t){e.$set(e.formData,"quartzMisfire",t)},expression:"formData.quartzMisfire"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"优先级",prop:"quartzPriority"}},[r("el-input",{attrs:{maxlength:"2","show-word-limit":"",disabled:e.readonly},model:{value:e.formData.quartzPriority,callback:function(t){e.$set(e.formData,"quartzPriority",e._n(t))},expression:"formData.quartzPriority"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"任务描述",prop:"quartzDesc"}},[r("el-input",{attrs:{type:"textarea",maxlength:"512","show-word-limit":"",disabled:e.readonly},model:{value:e.formData.quartzDesc,callback:function(t){e.$set(e.formData,"quartzDesc",t)},expression:"formData.quartzDesc"}})],1)],1),e.readonly?e._e():r("el-col",[r("el-form-item",{attrs:{label:"立即执行",prop:"isRun"}},[r("el-radio-group",{attrs:{disabled:e.readonly},model:{value:e.formData.isRun,callback:function(t){e.$set(e.formData,"isRun",t)},expression:"formData.isRun"}},[r("el-radio",{attrs:{label:!0}},[e._v("是")]),r("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1)],1),e.formData.quartzExce?r("el-col",[r("el-form-item",{attrs:{label:"异常信息",prop:"quartzExce"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:6},readonly:"",value:e.formData.quartzExce}})],1)],1):e._e(),null!==e.quartzJob?[r("el-col",[r("el-form-item",{attrs:{label:"下次执行",prop:"nextFireTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.quartzJob.nextFireTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"上次执行",prop:"prevFireTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.quartzJob.prevFireTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"生效时间",prop:"startTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.quartzJob.startTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"失效时间",prop:"endTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.quartzJob.endTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1)]:e._e(),e.formData.createdUser?[r("el-col",[r("el-form-item",{attrs:{label:"创建用户 :",prop:"createdUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.createdUser,callback:function(t){e.$set(e.formData,"createdUser",t)},expression:"formData.createdUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"创建时间 :",prop:"createdTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.createdTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新用户 :",prop:"updatedUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.updatedUser,callback:function(t){e.$set(e.formData,"updatedUser",t)},expression:"formData.updatedUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新时间 :",prop:"updatedTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.updatedTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1)]:e._e()],2)],1),r("flex-container",{staticClass:"footer",attrs:{justifyContent:"flex-end"}},[r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateData}},[e._v("确 定")])],1)],1)},l=[],s=r("e716"),c={querySysQuartz:function(e){return s["a"].get("/sysm/quartzMgr/querySysQuartz",{params:e})},getJobClass:function(){return s["a"].get("/sysm/quartzMgr/getJobClass")},saveSysQuartz:function(e){return s["a"].post("/sysm/quartzMgr/saveSysQuartz",e)},delSysQuartz:function(e){return s["a"].delete("/sysm/quartzMgr/delSysQuartz/"+e)},resumeSysQuartz:function(e){return s["a"].put("/sysm/quartzMgr/resumeSysQuartz/"+e)},pauseSysQuartz:function(e){return s["a"].put("/sysm/quartzMgr/pauseSysQuartz/"+e)},getSysQuartzJobInfo:function(e){return s["a"].get("/sysm/quartzMgr/getSysQuartzJobInfo",{params:e})}},u={props:{initData:{type:Object},readonly:{type:Boolean,default:!1}},inject:["jobClass"],data:function(){return{loading:!1,formData:Object.assign({},this.initData),quartzJob:null,formRules:{quartzName:[{required:!0,message:"请输入任务名称",trigger:"change"}],quartzGroup:[{required:!0,message:"请输入任务组",trigger:"change"}],quartzClass:[{required:!0,message:"请选择执行类",trigger:"change"}],quartzCron:[{required:!0,message:"请输入Cron表达式",trigger:"change"}],quartzPriority:[{type:"number",message:"请输入数值",trigger:"change"}]}}},mounted:function(){this.formData.uuid&&this.getQuartzJobInfo()},methods:{getQuartzJobInfo:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.getSysQuartzJobInfo({uuid:this.formData.uuid});case 2:t=e.sent,this.quartzJob=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleUpdateData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$refs["editForm"].validate();case 3:this.$emit("updataData",this.formData),this.$emit("close"),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}},m=u,d=r("2877"),p=Object(d["a"])(m,o,l,!1,null,null,null),f=p.exports,h={uuid:null,quartzName:"",quartzGroup:"",quartzStat:"",quartzClass:"",quartzCron:"",quartzExce:"",quartzDesc:"",quartzParams:"",quartzMisfire:"1",quartzPriority:0,isRun:!1,createdUser:"",createdTime:"",updatedUser:"",updatedTime:""},g={components:{QuartzMgrEdit:f},provide:function(){return{jobClass:this.jobClass}},data:function(){return{quartzEditReadonly:!1,showQuartzDia:!1,quartzForm:{quartzName:null,quartzGroup:null,quartzStat:null},tableMultipleSelection:[],editQuartz:{},jobClass:[]}},mounted:function(){this.loadJobClass()},methods:{loadJobClass:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.getJobClass();case 3:t=e.sent,this.$utils.clear(this.jobClass),t.data.forEach((function(e){return r.jobClass.push(e)})),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),loadQuartz:function(e){return c.querySysQuartz(e)},handleQueryQuartz:function(){this.$refs["quartzTable"].loadData(this.quartzForm,!0)},handleAddQuartz:function(){this.editQuartz=Object.assign({},h),this.quartzEditReadonly=!1,this.showQuartzDia=!0},handleEditQuartz:function(e){this.editQuartz=Object.assign({},h,e),this.quartzEditReadonly=!1,this.showQuartzDia=!0},handleViewJob:function(e){this.editQuartz=Object.assign({},h,e),this.quartzEditReadonly=!0,this.showQuartzDia=!0},handleSelectionChange:function(e){var t=[];e.forEach((function(e){t.push(e.uuid)})),this.tableMultipleSelection=t},handleResumeJob:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.resumeSysQuartz([t.uuid]);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e["catch"](0);case 7:return e.prev=7,this.handleQueryQuartz(),e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[0,5,7,10]])})));function t(t){return e.apply(this,arguments)}return t}(),handleResumeJobs:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!(this.tableMultipleSelection.length>0)){e.next=4;break}return e.next=4,c.resumeSysQuartz(this.tableMultipleSelection);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:return e.prev=8,this.handleQueryQuartz(),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[0,6,8,11]])})));function t(){return e.apply(this,arguments)}return t}(),handlePauseJob:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.pauseSysQuartz([t.uuid]);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e["catch"](0);case 7:return e.prev=7,this.handleQueryQuartz(),e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[0,5,7,10]])})));function t(t){return e.apply(this,arguments)}return t}(),handlePauseJobs:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!(this.tableMultipleSelection.length>0)){e.next=4;break}return e.next=4,c.pauseSysQuartz(this.tableMultipleSelection);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:return e.prev=8,this.handleQueryQuartz(),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[0,6,8,11]])})));function t(){return e.apply(this,arguments)}return t}(),handleDelJob:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.delSysQuartz([t.uuid]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:return e.prev=8,this.handleQueryQuartz(),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[0,5,8,11]])})));function t(t){return e.apply(this,arguments)}return t}(),handleDelJobs:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!(this.tableMultipleSelection.length>0)){e.next=4;break}return e.next=4,c.delSysQuartz(this.tableMultipleSelection);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:return e.prev=8,this.handleQueryQuartz(),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[0,6,8,11]])})));function t(){return e.apply(this,arguments)}return t}(),doUpdataQuartz:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.saveSysQuartz(t);case 3:return e.prev=3,this.handleQueryQuartz(),e.finish(3);case 6:case"end":return e.stop()}}),e,this,[[0,,3,6]])})));function t(t){return e.apply(this,arguments)}return t}()}},b=g,v=Object(d["a"])(b,a,n,!1,null,null,null);t["default"]=v.exports},aa9b:function(e,t,r){},b043:function(e,t,r){"use strict";var a=r("ef7a"),n=r.n(a);n.a},b291:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{attrs:{wrap:"nowrap",justifyContent:"space-between"}},[r("flex-item",{attrs:{grow:1,width:"100%"}},[r("el-card",[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[r("i",{staticClass:"icon-fa fa-file-o margin-right-6 font-size-16"}),e._v("附件管理 ")]),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-plus",title:"添加"},on:{click:e.handleAddSysFile}}),r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-search",title:"查询"},on:{click:e.handleQuerySysFile}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-refresh-left",title:"重置"},on:{click:function(t){e.$refs["sysFileForm"].resetFields(),e.startTime=[]}}})],1)],1),r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",{staticClass:"margin-bottom-10"},[r("el-form",{ref:"sysFileForm",staticClass:"form-style-line",attrs:{model:e.sysFileForm,"label-position":"right","label-width":"90px"}},[r("el-row",[r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"文件名称 :",prop:"fileName"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.sysFileForm.fileName,callback:function(t){e.$set(e.sysFileForm,"fileName",t)},expression:"sysFileForm.fileName"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"外网地址 :",prop:"fileUrl"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.sysFileForm.fileUrl,callback:function(t){e.$set(e.sysFileForm,"fileUrl",t)},expression:"sysFileForm.fileUrl"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"文件类型 :",prop:"fileType"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.sysFileForm.fileType,callback:function(t){e.$set(e.sysFileForm,"fileType",t)},expression:"sysFileForm.fileType"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"文件状态 :",prop:"fileStat"}},[r("dict-select",{attrs:{"dict-key":"FileStat",placeholder:"请选择",clearable:""},model:{value:e.sysFileForm.fileStat,callback:function(t){e.$set(e.sysFileForm,"fileStat",t)},expression:"sysFileForm.fileStat"}})],1)],1)],1)],1)],1),r("flex-item",[r("data-table",{ref:"sysFileTable",attrs:{border:"",index:"","auto-load":"","highlight-current-row":"","auto-update":"","column-button":"","csv-button":"",title:"Data Table","load-data-func":e.loadSysFile}},[r("data-table-column",{attrs:{prop:"fileName",label:"文件名称","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"fileMd5",label:"文件MD5","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"filePath",label:"服务器存放地址","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"fileUrl",label:"外网访问地址","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"fileType",label:"文件类型",width:"70","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"fileSize",label:"文件大小(KB)",width:"100","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"fileStat",label:"文件状态",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tooltip",{attrs:{content:e.$utils.getDictSelectValue("FileStat",t.row.fileStat),placement:"top"}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"1","inactive-value":"2"},on:{change:function(r){return e.doChangeFileStat(r,t.row)}},model:{value:t.row.fileStat,callback:function(r){e.$set(t.row,"fileStat",r)},expression:"scope.row.fileStat"}})],1)]}}])}),r("data-table-column",{attrs:{prop:"createdUser",label:"创建人",width:"60","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"createdTime",label:"创建时间",width:"135",formatter:e.$utils.tableColTimeFormt}}),r("data-table-column",{attrs:{prop:"updatedUser",label:"更新人",width:"60","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"updatedTime",label:"更新时间",width:"135",formatter:e.$utils.tableColTimeFormt}}),r("data-table-column",{attrs:{prop:"op",width:"80",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini",icon:"icon-ali ali-xiazai",title:"下载"},on:{click:function(r){return e.$utils.downFile(t.row.fileUrl)}}}),r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete",title:"删除"},on:{click:function(r){return e.handleDelSysFile(t.row)}}})]}}])})],1)],1)],1)],1)],1),r("dialog-drag",{attrs:{visible:e.showSysFileDia,"before-close":e.doSysFileDiaClose},on:{"update:visible":function(t){e.showSysFileDia=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-upload margin-right-4"}),e._v("文件上传 ")]),r("flex-container",[r("flex-item",{attrs:{width:"100%"}},[r("file-updata",{ref:"fileUpdata",attrs:{action:e.updataUrl,"auto-upload":!1,drag:"",multiple:""}})],1),r("flex-container",{staticClass:"footer",attrs:{justifyContent:"flex-end"}},[r("el-button",{on:{click:function(t){e.$refs["fileUpdata"].getEl().abort()}}},[e._v("中 断")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$refs["fileUpdata"].getEl().submit()}}},[e._v("上 传")])],1)],1)],1)],1)},n=[],i=(r("96cf"),r("1da1")),o=r("e716"),l=r("c695"),s=r.n(l),c={querySysFile:function(e){return o["a"].get("/sysm/fileMgr/querySysFile",{params:e})},delSysFile:function(e){return o["a"].delete("/sysm/fileMgr/delSysFile/"+e)},changeSysFileStat:function(e,t){return o["a"].put("/sysm/fileMgr/changeSysFileStat/"+e+"/"+t)},getSaveSysFileUrl:function(){return s.a.getProxyUrl("/sysm/fileMgr/saveSysFile")}},u=r("b307"),m={components:{FileUpdata:u["default"]},data:function(){return{showSysFileDia:!1,sysFileForm:{fileName:"",fileUrl:"",fileType:"",fileStat:""},sysFile:{},updataUrl:c.getSaveSysFileUrl()}},methods:{loadSysFile:function(e){return c.querySysFile(e)},handleQuerySysFile:function(){this.$refs["sysFileTable"].loadData(this.sysFileForm,!0)},handleDelSysFile:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.delSysFile([t.uuid]);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e["catch"](0);case 7:return e.prev=7,this.handleQuerySysFile(),e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[0,5,7,10]])})));function t(t){return e.apply(this,arguments)}return t}(),doChangeFileStat:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.changeSysFileStat([r.uuid],t);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e["catch"](0);case 7:return e.prev=7,this.handleQuerySysFile(),e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[0,5,7,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),handleAddSysFile:function(){this.showSysFileDia=!0},doSysFileDiaClose:function(e){this.handleQuerySysFile(),e()}}},d=m,p=r("2877"),f=Object(p["a"])(d,a,n,!1,null,null,null);t["default"]=f.exports},b341:function(e,t){e.exports='## <center> CronTab 组件说明 </center>\r\n\r\n> 当手动输入的 Cron 表达式错误时，输入框会自动清空。\r\n\r\n#### Use\r\n\r\n```html\r\n<cron-tab v-model="xxx" v-bind="Attributes" v-on="Events" ...></cron-tab>\r\n```\r\n\r\n#### Attributes\r\n\r\n| 参数            | 说明     | 类型    | 可选值 | 默认值   |\r\n| :-------------- | :------- | :------ | :----- | :------- |\r\n| value / v-model | 绑定值   | String  | ——     | ——       |\r\n| readonly        | 是否只读 | Boolean | ——     | false    |\r\n| title           | 按钮提示 | String  | ——     | 高级设置 |\r\n'},bc30:function(e,t,r){"use strict";var a=r("e716");t["a"]={saveSysPerm:function(e){return a["a"].post("/usrm/permMgr/saveSysPerm",e)},querySysPerm:function(e){return a["a"].get("/usrm/permMgr/querySysPerm",{params:e})},delSysPerm:function(e){return a["a"].delete("/usrm/permMgr/delSysPerm/"+e)},getPermMap:function(){return a["a"].get("/usrm/permMgr/getPermMap")}}},c196:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=this,r=t.$createElement,a=t._self._c||r;return a("flex-container",{attrs:{wrap:"nowrap",justifyContent:"space-between"}},[a("flex-item",{attrs:{grow:1,width:"100%"}},[a("el-card",[a("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[a("flex-item",{attrs:{alignItems:"center"}},[a("i",{staticClass:"el-icon-s-custom margin-right-6 font-size-16"}),t._v("用户信息 ")]),a("flex-item",{attrs:{alignItems:"center"}},[a("el-button",{directives:[{name:"button-auth",rawName:"v-button-auth",value:"user-add",expression:"'user-add'"}],attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-plus",title:"添加"},on:{click:t.handleAddUser}}),a("el-button",{directives:[{name:"button-auth",rawName:"v-button-auth",value:"user-query",expression:"'user-query'"}],attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-search",title:"查询"},on:{click:t.handleQueryUser}}),a("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-refresh-left",title:"重置"},on:{click:function(e){t.$refs["userForm"].resetFields(),t.lastLogDate=[]}}}),a("el-button",{attrs:{disabled:!t.tableSelection.length>0,size:"mini",circle:"",plain:"",icon:"icon-fa fa-lock",title:"批量锁定"},on:{click:function(e){return t.handleUserLock(!0)}}}),a("el-button",{attrs:{disabled:!t.tableSelection.length>0,size:"mini",circle:"",plain:"",icon:"icon-fa fa-unlock",title:"批量解锁"},on:{click:function(e){return t.handleUserUnlock(!0)}}}),a("el-button",{attrs:{disabled:!t.tableSelection.length>0,size:"mini",circle:"",plain:"",icon:"el-icon-switch-button",title:"批量注销"},on:{click:function(e){return t.handleUserDest(!0)}}})],1)],1),a("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[a("flex-item",{staticClass:"margin-bottom-10"},[a("el-form",{ref:"userForm",staticClass:"form-style-line",attrs:{model:t.userForm,"label-position":"right","label-width":"80px"}},[a("el-row",[a("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[a("el-form-item",{attrs:{label:"账户名称 :",prop:"acName"}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:t.userForm.acName,callback:function(e){t.$set(t.userForm,"acName",e)},expression:"userForm.acName"}})],1)],1),a("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[a("el-form-item",{attrs:{label:"用户姓名 :",prop:"userName"}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:t.userForm.userName,callback:function(e){t.$set(t.userForm,"userName",e)},expression:"userForm.userName"}})],1)],1),a("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[a("el-form-item",{attrs:{label:"用户状态 :",prop:"acStat"}},[a("dict-select",{attrs:{"dict-key":"AcStat",placeholder:"请选择",clearable:""},model:{value:t.userForm.acStat,callback:function(e){t.$set(t.userForm,"acStat",e)},expression:"userForm.acStat"}})],1)],1),a("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[a("el-form-item",{attrs:{label:"隶属组织 :",prop:"orgUuid"}},[a("el-cascader",{attrs:{options:t.orgTree,props:t.orgTreeProps,clearable:""},model:{value:t.userForm.orgUuid,callback:function(e){t.$set(t.userForm,"orgUuid",e)},expression:"userForm.orgUuid"}})],1)],1),a("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[a("el-form-item",{attrs:{label:"用户性别 :",prop:"userSex"}},[a("dict-select",{attrs:{"dict-key":"Sex",placeholder:"请选择",clearable:""},model:{value:t.userForm.userSex,callback:function(e){t.$set(t.userForm,"userSex",e)},expression:"userForm.userSex"}})],1)],1),a("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:6}},[a("el-form-item",{attrs:{label:"最后登录 :",prop:"lastLogDate"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.lastLogDate,callback:function(e){t.lastLogDate=e},expression:"lastLogDate"}})],1)],1)],1)],1)],1),a("flex-item",[a("data-table",{ref:"userTable",attrs:{border:"",index:"","auto-load":"","highlight-current-row":"","auto-update":"","column-button":"","csv-button":"",title:"Data Table","load-data-func":t.loadUser,pageOptions:t.pageOptions},on:{"selection-change":function(t){return e.tableSelection=t}}},[a("data-table-column",{attrs:{prop:"selection",type:"selection",align:"center",width:"50",fixed:"left"}}),a("data-table-column",{attrs:{prop:"acName",label:"账户名称","show-overflow-tooltip":""}}),a("data-table-column",{attrs:{prop:"acStat",label:"状态","show-overflow-tooltip":"",formatter:function(e){return t.$utils.tableColDictFormt("AcStat",e.acStat)}}}),a("data-table-column",{attrs:{prop:"orgUuid",label:"隶属组织","show-overflow-tooltip":"",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-cascader",{staticClass:"cascader-table-disabled",attrs:{options:t.orgTree,value:e.row.orgUuid,props:t.orgViewProps,disabled:""}})]}}])}),a("data-table-column",{attrs:{prop:"userName",label:"用户姓名","show-overflow-tooltip":""}}),a("data-table-column",{attrs:{prop:"userSex",label:"性别","show-overflow-tooltip":"",formatter:function(e){return t.$utils.tableColDictFormt("Sex",e.userSex)}}}),a("data-table-column",{attrs:{prop:"userPhone",label:"联系电话","show-overflow-tooltip":""}}),a("data-table-column",{attrs:{prop:"userEmail",label:"邮件","show-overflow-tooltip":""}}),a("data-table-column",{attrs:{prop:"userBirthday",label:"出生日期","show-overflow-tooltip":"",formatter:t.$utils.tableColTimeFormt}}),a("data-table-column",{attrs:{prop:"lastLogDate",label:"最后登录","show-overflow-tooltip":"",formatter:t.$utils.tableColTimeFormt}}),a("data-table-column",{attrs:{prop:"op",label:"操作",align:"center",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{disabled:"3"===e.row.acStat,type:"text",size:"mini",icon:"el-icon-edit",title:"编辑"},on:{click:function(r){return t.handleEditUser(e.row)}}}),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete",title:"删除"},on:{click:function(r){return t.handleDelUser(e.row)}}}),a("el-button",{attrs:{disabled:"3"===e.row.acStat,type:"text",size:"mini",icon:"icon-ali ali-key",title:"重置密码"},on:{click:function(r){return t.handlePwdRest(e.row)}}}),a("el-button",{attrs:{disabled:"2"===e.row.acStat||"3"===e.row.acStat,type:"text",size:"mini",icon:"icon-fa fa-lock",title:"锁定"},on:{click:function(r){return t.handleUserLock(!1,e.row)}}}),a("el-button",{attrs:{disabled:"1"===e.row.acStat||"3"===e.row.acStat,type:"text",size:"mini",icon:"icon-fa fa-unlock",title:"解锁"},on:{click:function(r){return t.handleUserUnlock(!1,e.row)}}}),a("el-button",{attrs:{disabled:"3"===e.row.acStat,type:"text",size:"mini",icon:"el-icon-switch-button",title:"注销"},on:{click:function(r){return t.handleUserDest(!1,e.row)}}})]}}])})],1)],1)],1)],1)],1),a("dialog-drag",{attrs:{title:"用户信息编辑",visible:t.showUserDia},on:{"update:visible":function(e){t.showUserDia=e}}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-edit margin-right-4"}),t._v("用户信息编辑 ")]),a("user-mgr-edit",{attrs:{initData:t.editUser},on:{updataData:t.doUpdataUser,close:function(e){t.showUserDia=!1}}})],1)],1)},n=[],i=(r("ac6a"),r("f3e2"),r("96cf"),r("1da1")),o=r("e716"),l={querySysUser:function(e){return o["a"].get("/usrm/userMgr/querySysUser",{params:e})},delSysUser:function(e){return o["a"].delete("/usrm/userMgr/delSysUser/"+e)},saveSysUser:function(e){return o["a"].post("/usrm/userMgr/saveSysUser",e)},userLock:function(e){return o["a"].put("/usrm/userMgr/userLock/"+e)},userUnlock:function(e){return o["a"].put("/usrm/userMgr/userUnlock/"+e)},userDest:function(e){return o["a"].put("/usrm/userMgr/userDest/"+e)},pwdRest:function(e){return o["a"].put("/usrm/userMgr/pwdRest/"+e)}},s=r("53ab"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[r("el-form",{ref:"editForm",staticClass:"form-style-line",attrs:{model:e.formData,rules:e.formRules,"label-position":"right","label-width":"90px"}},[r("el-row",{attrs:{span:12}},[r("el-col",[r("el-form-item",{attrs:{label:"账户名称 :",prop:"acName"}},[r("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:e.formData.acName,callback:function(t){e.$set(e.formData,"acName",t)},expression:"formData.acName"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"账户状态 :",prop:"acStat"}},[r("dict-select",{attrs:{"dict-key":"AcStat",placeholder:"请选择",clearable:""},model:{value:e.formData.acStat,callback:function(t){e.$set(e.formData,"acStat",t)},expression:"formData.acStat"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"隶属组织 :",prop:"orgUuid"}},[r("el-cascader",{attrs:{options:e.orgTree,props:e.orgTreeProps,clearable:""},on:{change:e.orgUuidChange},model:{value:e.formData.orgUuid,callback:function(t){e.$set(e.formData,"orgUuid",t)},expression:"formData.orgUuid"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"拥有角色 :",prop:"roleUuids"}},[r("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.formData.roleUuids,callback:function(t){e.$set(e.formData,"roleUuids",t)},expression:"formData.roleUuids"}},e._l(e.roles,(function(e){return r("el-option",{key:e.uuid,attrs:{label:e.roleName,value:e.uuid}})})),1)],1)],1),e.formData.uuid?e._e():r("el-col",[r("el-form-item",{attrs:{label:"初始密码 :",prop:"acPwd"}},[r("el-input",{attrs:{maxlength:"30","show-word-limit":""},model:{value:e.formData.acPwd,callback:function(t){e.$set(e.formData,"acPwd",t)},expression:"formData.acPwd"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"用户姓名 :",prop:"userName"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.formData.userName,callback:function(t){e.$set(e.formData,"userName",t)},expression:"formData.userName"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"用户性别 :",prop:"userSex"}},[r("dict-select",{attrs:{"dict-key":"Sex",placeholder:"请选择",clearable:""},model:{value:e.formData.userSex,callback:function(t){e.$set(e.formData,"userSex",t)},expression:"formData.userSex"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"联系电话 :",prop:"userPhone"}},[r("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:e.formData.userPhone,callback:function(t){e.$set(e.formData,"userPhone",t)},expression:"formData.userPhone"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"出生日期 :",prop:"userBirthday"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.formData.userBirthday,callback:function(t){e.$set(e.formData,"userBirthday",t)},expression:"formData.userBirthday"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"邮箱地址 :",prop:"userEmail"}},[r("el-input",{attrs:{maxlength:"50","show-word-limit":""},model:{value:e.formData.userEmail,callback:function(t){e.$set(e.formData,"userEmail",t)},expression:"formData.userEmail"}})],1)],1),e.formData.createdUser?[r("el-col",[r("el-form-item",{attrs:{label:"创建用户 :",prop:"createdUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.createdUser,callback:function(t){e.$set(e.formData,"createdUser",t)},expression:"formData.createdUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"创建时间 :",prop:"createdTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.createdTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新用户 :",prop:"updatedUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.updatedUser,callback:function(t){e.$set(e.formData,"updatedUser",t)},expression:"formData.updatedUser"}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"更新时间 :",prop:"updatedTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.updatedTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1)]:e._e()],2)],1),r("flex-container",{staticClass:"footer",attrs:{justifyContent:"flex-end"}},[r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateData}},[e._v("确 定")])],1)],1)},u=[],m=r("8070"),d={props:{initData:{type:Object}},inject:["orgTree","orgTreeProps"],data:function(){return{loading:!1,roles:[],formData:Object.assign({},this.initData),formRules:{acName:[{required:!0,message:"请输入账户名称且长度为4至20 !",min:4,max:20,trigger:"change"}],acPwd:[{min:8,max:30,message:"请输入的密码长度为8至30 !",trigger:"change"}],acStat:[{required:!0,message:"请选择账户状态 !",trigger:"change"}],orgUuid:[{required:!0,message:"请选择隶属组织 !",trigger:"change"}],roleUuids:[{required:!0,message:"请选择拥有角色 !",trigger:"change"}]}}},mounted:function(){this.formData.orgUuid&&this.loadRole(this.formData.orgUuid)},methods:{loadRole:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,m["a"].getRoleByOrgUuid({orgUuid:t});case 4:r=e.sent,this.roles=r.data,e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:return e.prev=10,this.loading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,8,10,13]])})));function t(t){return e.apply(this,arguments)}return t}(),orgUuidChange:function(e){this.loadRole(e),this.formData.roleUuids=[]},handleUpdateData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$refs["editForm"].validate();case 3:t=Object.assign({},this.formData),t.acPwd&&(t.acPwd=this.$utils.encodePasswd(t.acPwd)),this.$emit("updataData",t),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()}},p=d,f=r("2877"),h=Object(f["a"])(p,c,u,!1,null,null,null),g=h.exports,b={uuid:null,acName:"",acPwd:"",orgUuid:"",encSalt:"",acStat:"",lastLogDate:"",userName:"",userSex:"",userPhone:"",userEmail:"",userBirthday:"",createdUser:"",createdTime:"",updatedUser:"",updatedTime:"",roleUuids:[]},v={components:{UserMgrEdit:g},provide:function(){return{orgTree:this.orgTree,orgTreeProps:this.orgTreeProps}},data:function(){return{tableSelection:[],orgTree:[],orgTreeProps:{checkStrictly:!0,emitPath:!1,value:"uuid",label:"orgName"},orgViewProps:{checkStrictly:!0,emitPath:!1,value:"uuid",label:"orgName"},showUserDia:!1,userForm:{userName:"",userStat:"",userSex:"",orgUuid:""},lastLogDate:[],pageOptions:{pagerCount:5},editUser:{}}},mounted:function(){this.initOrgTree()},methods:{initOrgTree:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["a"].getOrgTree();case 3:t=e.sent,this.$utils.eachTree(t.data,(function(e){0===e.children.length&&delete e.children})),this.$utils.clear(this.orgTree),t.data.forEach((function(e){return r.orgTree.push(e)})),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),loadUser:function(e){return l.querySysUser(e)},handleQueryUser:function(){var e=Object.assign({},this.userForm);this.lastLogDate&&2===this.lastLogDate.length&&Object.assign(e,{lastLogDateStart:this.lastLogDate[0].getTime(),lastLogDateEnd:this.lastLogDate[1].getTime()}),this.$refs["userTable"].loadData(e,!0)},handleEditUser:function(e){this.editUser=Object.assign({},e),this.showUserDia=!0},handleAddUser:function(){this.editUser=Object.assign({},b),this.showUserDia=!0},handleDelUser:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.delSysUser([t.uuid]);case 3:e.sent;case 4:return e.prev=4,this.handleQueryUser(),e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[0,,4,7]])})));function t(t){return e.apply(this,arguments)}return t}(),handleUserLock:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=[],t?this.tableSelection.forEach((function(e){a.push(e.uuid)})):a.push(r.uuid),e.next=5,l.userLock(a);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,this.handleQueryUser(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,7,9,12]])})));function t(t,r){return e.apply(this,arguments)}return t}(),handleUserUnlock:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=[],t?this.tableSelection.forEach((function(e){a.push(e.uuid)})):a.push(r.uuid),e.next=5,l.userUnlock(a);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,this.handleQueryUser(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,7,9,12]])})));function t(t,r){return e.apply(this,arguments)}return t}(),handleUserDest:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$confirm("此操作会将用户置于最终状态且不可逆, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:return a=[],t?this.tableSelection.forEach((function(e){a.push(e.uuid)})):a.push(r.uuid),e.next=7,l.userDest(a);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:return e.prev=11,this.handleQueryUser(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[0,9,11,14]])})));function t(t,r){return e.apply(this,arguments)}return t}(),doUpdataUser:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.saveSysUser(t);case 3:this.showUserDia=!1,this.handleQueryUser(),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}(),handlePwdRest:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$confirm("此操作将重置该账户密码,且不可撤销, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:return e.next=5,l.pwdRest([t.uuid]);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()}},y=v,x=Object(f["a"])(y,a,n,!1,null,null,null);t["default"]=x.exports},c602:function(e,t){e.exports='# <center> TplFormCreate 组件说明 </center>\r\n\r\n> 模板表单 JSON 生成组件，该组件是基于 Element UI 开发的，支持 el-input、el-time-select、el-time-picker、el-date-picker、el-select、el-radio、el-checkbox 组件。\r\n\r\n#### 功能\r\n\r\n- 添加、删除、编辑 DOM 元素\r\n- 行拖拽排序\r\n- 栅格布局（ 4 列 ）\r\n- 是否为空\r\n- 是否禁用\r\n- 是否显示\r\n- 别名 (会替换标题显示)\r\n- 检验规则\r\n- 显隐控制函数,类型字符串 [\'true\'|\'false\'|Function]\r\n- 是否反显组件\r\n\r\n#### Use\r\n\r\n```html\r\n<tpl-form-create v-bind="Attributes" v-on="Events" ... />\r\n```\r\n\r\n#### WsFormTpl.Attributes\r\n\r\n| 参数         | 说明       | 类型  | 可选值                  | 默认值 |\r\n| :----------- | :--------- | :---- | :---------------------- | :----- |\r\n| initFormItem | 初始化数据 | Array | [如下例](#initFormItem) | null   |\r\n\r\n#### WsFormTpl.Events\r\n\r\n| 参数   | 说明                   | 类型  |\r\n| :----- | :--------------------- | :---- |\r\n| update | 当前时刻生成的表单结构 | Array |\r\n\r\n<div id=\'initFormItem\'></div>\r\n\r\n##### WsFormTpl.Attributes.initFormItem\r\n\r\n```javascript\r\nlet initFormItem = [\r\n  {\r\n    /**\r\n     * 可选类型\r\n     * input\r\n     * time\r\n     * select\r\n     * radio\r\n     * checkbox\r\n     */\r\n    domType: "input",\r\n    // input标题\r\n    label: "标题",\r\n    // DOM的v-model\r\n    key: "key",\r\n    // 是否为空\r\n    notNull: false,\r\n    // 是否禁用\r\n    disabled: false,\r\n    // 是否显示\r\n    showable: true,\r\n    // 别名,如果传入会覆盖label属性\r\n    alias: null,\r\n    // 检验规则\r\n    rule: null,\r\n    // 栅格列数\r\n    span: 4,\r\n    // 显隐控制函数,类型字符串 [\'true\'|\'false\'|Function]\r\n    showFunName: "true",\r\n    // 是否反显组件\r\n    readonly: false,\r\n    // ------  备用字段 --------\r\n    // ID\r\n    id: "snap",\r\n    // 绑定字段\r\n    bindingField: "snap",\r\n    // 是否是默认必选项\r\n    defaultRequired: false,\r\n    // 是否参与输出\r\n    exportable: true,\r\n    // 表单ID\r\n    formId: "snap"\r\n  }\r\n];\r\n```\r\n\r\n#### WsFormTpl.Methods\r\n\r\n| 方法名      | 说明                       | 参数 | 返回  |\r\n| :---------- | :------------------------- | :--- | :---- |\r\n| getFormItem | 手动拉取当前时刻的表单结构 | ——   | Array |\r\n'},cb80:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{staticClass:"icon-font-page",attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",[r("el-alert",{staticClass:"margin-bottom-10",attrs:{title:"IconFont图标库",type:"success",closable:!1,description:"阿里巴巴的IconFont图标库，详见 https://www.iconfont.cn/"}})],1),r("flex-item",[r("ul",{staticClass:"icon-list"},e._l(e.icons,(function(t){return r("li",{key:t,on:{click:function(r){return e.handleCopy(t)}}},[r("i",{class:"icon-ali "+t}),r("span",[e._v(e._s("."+t))])])})),0)])],1)},n=[],i=(r("4917"),r("96cf"),r("1da1")),o=r("9224"),l=r("bc3a"),s=r.n(l),c="http://at.alicdn.com/t/",u={name:"IconFontPage",data:function(){return{iconfontId:o.iconfontId,icons:[]}},created:function(){this.loadIconfontData()},methods:{loadIconfontData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get(c+this.iconfontId+".css");case 3:t=e.sent,r=t.data,this.$set(this,"icons",r.match(/ali-[a-zA-Z0-9-_]*/g)),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message.error("iconfont 加载失败。");case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),handleCopy:function(e){this.$utils.copy("icon-ali ".concat(e))}}},m=u,d=(r("d7f0"),r("2877")),p=Object(d["a"])(m,a,n,!1,null,"65f54210",null);t["default"]=p.exports},d692:function(e,t,r){e.exports=r.p+"img/500.0026ea27.gif"},d7f0:function(e,t,r){"use strict";var a=r("fee9"),n=r.n(a);n.a},da0e:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{staticClass:"cron-tab-page",attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",[r("el-alert",{staticClass:"margin-bottom-10",attrs:{title:"单页多开",type:"success",closable:!1,description:e.$route.path}})],1),r("flex-item",[r("el-row",[r("el-button",{attrs:{type:"primary"},on:{click:e.addRouter}},[e._v("打开新建")])],1)],1)],1)},n=[],i={data:function(){return{}},methods:{addRouter:function(){this.$router.push({path:"/plugin/singlePageOpen/"+(new Date).getTime(),query:{alias:this.$t("route.SinglePageOpen")+ +(new Date).getTime()}})}}},o=i,l=r("2877"),s=Object(l["a"])(o,a,n,!1,null,null,null);t["default"]=s.exports},e00a:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{attrs:{wrap:"nowrap",justifyContent:"space-between"}},[r("flex-item",{attrs:{grow:1,width:"100%"}},[r("el-card",[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[r("i",{staticClass:"el-icon-connection margin-right-6 font-size-16"}),e._v("交互日志 ")]),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-search",title:"查询"},on:{click:e.handleQueryLogOper}}),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-refresh-left",title:"重置"},on:{click:function(t){e.$refs["logOperForm"].resetFields(),e.startTime=[]}}})],1)],1),r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",{staticClass:"margin-bottom-10"},[r("el-form",{ref:"logOperForm",staticClass:"form-style-line",attrs:{model:e.logOperForm,"label-position":"right","label-width":"90px"}},[r("el-row",[r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"请求路径 :",prop:"reqUrl"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.logOperForm.reqUrl,callback:function(t){e.$set(e.logOperForm,"reqUrl",t)},expression:"logOperForm.reqUrl"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"路径说明 :",prop:"urlDesc"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.logOperForm.urlDesc,callback:function(t){e.$set(e.logOperForm,"urlDesc",t)},expression:"logOperForm.urlDesc"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"服务器地址 :",prop:"svrAdrr"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.logOperForm.svrAdrr,callback:function(t){e.$set(e.logOperForm,"svrAdrr",t)},expression:"logOperForm.svrAdrr"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"服务器名称 :",prop:"svrName"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.logOperForm.svrName,callback:function(t){e.$set(e.logOperForm,"svrName",t)},expression:"logOperForm.svrName"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[r("el-form-item",{attrs:{label:"响应代码 :",prop:"respCode"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.logOperForm.respCode,callback:function(t){e.$set(e.logOperForm,"respCode",t)},expression:"logOperForm.respCode"}})],1)],1),r("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:6}},[r("el-form-item",{attrs:{label:"开始时间 :",prop:"startTime"}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1)],1)],1)],1)],1),r("flex-item",[r("data-table",{ref:"logOperTable",attrs:{border:"",index:"","auto-load":"","highlight-current-row":"","auto-update":"","column-button":"","csv-button":"",title:"Data Table","load-data-func":e.loadLogOper,"row-class-name":e.doRowClassName}},[r("data-table-column",{attrs:{prop:"reqUrl",label:"请求路径","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"urlDesc",label:"路径说明","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"svrAdrr",label:"服务器地址","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"svrName",label:"服务器名称","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"cliAdrr",label:"客户端地址","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"cliDesc",label:"客户端说明","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"startTime",label:"操作开始",width:"140",formatter:e.$utils.tableColTimeFormt}}),r("data-table-column",{attrs:{prop:"procTime",label:"耗时(μs)",width:"80"}}),r("data-table-column",{attrs:{prop:"respCode",label:"响应代码",width:"70"}}),r("data-table-column",{attrs:{prop:"respDesc",label:"响应说明","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"opUser",label:"操作人",width:"70","show-overflow-tooltip":""}}),r("data-table-column",{attrs:{prop:"op",label:"操作",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-more",title:"查看"},on:{click:function(r){return e.handleEyeLogOper(t.row)}}})]}}])})],1)],1)],1)],1)],1),r("dialog-drag",{attrs:{title:"任务编辑",visible:e.showLogOperDia},on:{"update:visible":function(t){e.showLogOperDia=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-edit margin-right-4"}),e._v("交互日志详情 ")]),r("oper-log-eye",{attrs:{initData:e.logOper},on:{close:function(t){e.showLogOperDia=!1}}})],1)],1)},n=[],i=r("e716"),o={queryLogOper:function(e){return i["a"].get("/logs/operMgr/queryLogOper",{params:e})}},l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",[r("el-form",{ref:"editForm",staticClass:"form-style-line",attrs:{"label-position":"right","label-width":"90px",disabled:""}},[r("el-row",{attrs:{span:12}},[r("el-col",[r("el-form-item",{attrs:{label:"请求路径 :",prop:"reqUrl"}},[r("el-input",{attrs:{value:e.initData.reqUrl}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"路径说明 :",prop:"urlDesc"}},[r("el-input",{attrs:{value:e.initData.urlDesc}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"服务器地址 :",prop:"svrAdrr"}},[r("el-input",{attrs:{value:e.initData.svrAdrr}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"服务器名称 :",prop:"svrName"}},[r("el-input",{attrs:{value:e.initData.svrName}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"客户端地址 :",prop:"cliAdrr"}},[r("el-input",{attrs:{value:e.initData.cliAdrr}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"客户端说明 :",prop:"cliDesc"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:6},value:e.initData.cliDesc}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"操作开始 :",prop:"startTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.initData.startTime,"yyyy-MM-dd HH:mm:ss")}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"耗时(ms) :",prop:"procTime"}},[r("el-input",{attrs:{value:e.initData.procTime}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"响应代码 :",prop:"respCode"}},[r("el-input",{attrs:{value:e.initData.respCode}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"响应说明 :",prop:"respDesc"}},[r("el-input",{attrs:{value:e.initData.respDesc}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"操作人 :",prop:"opUser"}},[r("el-input",{attrs:{value:e.initData.opUser}})],1)],1),r("el-col",[r("el-form-item",{attrs:{label:"异常信息 :",prop:"execInfo"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:6},value:e.initData.execInfo}})],1)],1)],1)],1)],1)},s=[],c={props:{initData:{type:Object}}},u=c,m=r("2877"),d=Object(m["a"])(u,l,s,!1,null,null,null),p=d.exports,f={components:{OperLogEye:p},data:function(){return{showLogOperDia:!1,logOperForm:{qtzName:"",qtzGroup:"",logLeve:"",svrName:"",svrAddr:""},logOper:{},startTime:[]}},methods:{doRowClassName:function(e){var t=e.row;e.rowIndex;return t.execInfo?"error-row":"success-row"},loadLogOper:function(e){return o.queryLogOper(e)},handleQueryLogOper:function(){var e=Object.assign({},this.logOperForm);this.startTime&&2===this.startTime.length&&Object.assign(e,{startTimeStart:this.startTime[0].getTime(),startTimeEnd:this.startTime[1].getTime()}),this.$refs["logOperTable"].loadData(e,!0)},handleEyeLogOper:function(e){this.logOper=Object.assign({},e),this.showLogOperDia=!0}}},h=f,g=(r("8c0d"),Object(m["a"])(h,a,n,!1,null,"b15fed92",null));t["default"]=g.exports},e78a:function(e,t,r){"use strict";var a=r("7099"),n=r.n(a);n.a},ef7a:function(e,t,r){},f377:function(e,t,r){"use strict";var a=r("550a"),n=r.n(a);n.a},fee9:function(e,t,r){}}]);